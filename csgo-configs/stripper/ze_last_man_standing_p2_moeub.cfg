//本stp对地图流程进行了大量魔改
;--------------------------------------------
;Below changes by koen (STEAM_1:1:114921174)
;--------------------------------------------
modify:
{
	match:
	{
		"classname" "logic_auto"
	}
	insert:
	{	
		"OnNewGame" "consoleCommandsay 魔改版本号为2.23，日期2024.4.269.11"
		"OnNewGame" "consoleCommandsay ** 由KOEN协助进行修复以及魔改 **10.11"
		"OnNewGame" "consoleCommandsay 修复假死铁血12.11"
		"OnNewGame" "consoleCommandsay 机械狗事件仅限人类触发13.11"
	}
}

//修改第一关坦克坐标
add:
{
	"classname" "point_teleport"
	"angles" "0 10 0"
	"spawnflags" "0"
	"target" "v_model1"
	"targetname" "Stage_x_Spawn_Tank_Teleport_1"
	"origin" "12300.5 -1347.5 -13679"
}

//移除第一关调关房传送
filter:
{
	"hammerid" "13058128"
}

//二门添加僵尸检测，非人类触发则处死全体人类
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "stage_1_base_button_4"
	}
	insert:
	{
		"OnPressed" "ZOMBIESTRIGGEREDRunScriptCodeprogressTrigger()01"
		"OnPressed" "stage_1_road_button_alternative_pathunlock151"
	}
}
add:
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "ZOMBIESTRIGGERED"
	"vscripts" "ze_last_man_standing_p2/zm_trigger.nut"
	"origin" "-4512 13216 -8552"
	"OnTrigger" "Global_GameText_Announcement,FireUser3,,,1"
	"OnTrigger" "Global_GameText_Announcement,AddOutput,message ** 逃课还想过关！ **,,1"
	"OnTrigger" "Nuke_Kill_humantrigger01"
}

//默认锁定公路大门开关，按下二门后解锁；更改坦克第一关位置防止遁地；修复第一关炮台运输事件
modify:
{
	match:
	{
		"classname" "point_template"
		"targetname" "stage1_things"
	}
	insert:
	{
		"OnEntitySpawned" "stage_1_road_button_alternative_pathlock51"
		"OnEntitySpawned" "stage_x_btn_endlock51"
		"OnEntitySpawned" "Stage_x_Spawn_Tank_Teleport_1Teleport0.02-1"
		"OnEntitySpawned" "weapon_turret_makerkill1-1"
	}
}

//触发80秒电梯倒计时过30秒才可触发电机
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "stage_1_end_trigger"
	}
	insert:
	{
		"OnStartTouch" "stage_x_btn_endunlock301"
	}
}

//添加第一关石头，防止单人翻墙
add:
{
	"classname" "prop_dynamic"
	"angles" "0 270 0"
	"body" "0"
	"DisableBoneFollowers" "0"
	"disablereceiveshadows" "0"
	"disableshadows" "0"
	"disableX360" "0"
	"drawinfastreflection" "0"
	"ExplodeDamage" "0"
	"ExplodeRadius" "0"
	"fademaxdist" "0"
	"fademindist" "-1"
	"fadescale" "1"
	"HoldAnimation" "0"
	"is_autoaim_target" "0"
	"MaxAnimTime" "10"
	"maxcpulevel" "0"
	"maxgpulevel" "0"
	"MinAnimTime" "5"
	"mincpulevel" "0"
	"mingpulevel" "0"
	"model" "models/props_wasteland/rock_cliff01.mdl"
	"PerformanceMode" "0"
	"pressuredelay" "0"
	"RandomAnimation" "0"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "0"
	"SetBodyGroup" "0"
	"skin" "0"
	"solid" "6"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "wall_1"
	"origin" "11584 -2624 -13312"
}
add:
{
	"classname" "prop_dynamic"
	"angles" "0 270 0"
	"body" "0"
	"DisableBoneFollowers" "0"
	"disablereceiveshadows" "0"
	"disableshadows" "0"
	"disableX360" "0"
	"drawinfastreflection" "0"
	"ExplodeDamage" "0"
	"ExplodeRadius" "0"
	"fademaxdist" "0"
	"fademindist" "-1"
	"fadescale" "1"
	"HoldAnimation" "0"
	"is_autoaim_target" "0"
	"MaxAnimTime" "10"
	"maxcpulevel" "0"
	"maxgpulevel" "0"
	"MinAnimTime" "5"
	"mincpulevel" "0"
	"mingpulevel" "0"
	"model" "models/props_wasteland/rock_cliff01.mdl"
	"PerformanceMode" "0"
	"pressuredelay" "0"
	"RandomAnimation" "0"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "0"
	"SetBodyGroup" "0"
	"skin" "0"
	"solid" "6"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "wall_2"
	"origin" "11520 -3072 -13376"
}

//ex1水塔防提前跑路
add:
{
	"classname" "func_breakable"
	"disableflashlight" "0"
	"disablereceiveshadows" "0"
	"disableshadowdepth" "0"
	"disableshadows" "0"
	"drawinfastreflection" "0"
	"ExplodeDamage" "0"
	"explodemagnitude" "0"
	"ExplodeRadius" "0"
	"explosion" "0"
	"fademaxdist" "0"
	"fademindist" "-1"
	"fadescale" "1"
	"gibdir" "0 0 0"
	"health" "0"
	"material" "10"
	"minhealthdmg" "0"
	"nodamageforces" "0"
	"origin" "1408 1056 -13184"
	"PerformanceMode" "0"
	"physdamagescale" "1.0"
	"pressuredelay" "0"
	"propdata" "0"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "10"
	"shadowdepthnocache" "0"
	"spawnflags" "1"
	"spawnobject" "0"
	"targetname" "fcc_breakable1"
}
modify:
{
	match:
	{
		"hammerid" "13113608"
	}
	insert:
	{
		"OnMapSpawn" "fcc_breakable1addoutputmins -320 -160 -1921-1"
		"OnMapSpawn" "fcc_breakable1addoutputmaxs 640 320 3841-1"
		"OnMapSpawn" "fcc_breakable1addoutputsolid 20.5-1"
	}
}

//第一关修改油桶位置，阻止提前触发电机
modify:
{
	match:
	{
		"targetname" "stage_1_end_explosion_barrel"
		"classname" "prop_physics"
	}
	replace:
	{
		"origin" "5101 -10140 -12912"
	}
}

//EX1启用未使用的垃圾桶，使僵尸更快的进攻
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "stage_1_button_tower_top"
	}
	insert:
	{
		"OnPressed" "stage_positioner_teleport,InValue,11,10,1"
		"OnPressed" "fcc_breakable1,kill,,10,1"
	}
}

//第一关通关增加僵尸检测，检测到僵尸时处死人类
add:
{
	"model" "*587"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"origin" "823.71 -10289 -11817"
	"parentname" "stage_x_helicopter_tracktrain"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "stage_1_zombie_check"
	"wait" "1"
	"OnStartTouch" "stage_human_detectorKill0-1"
	"OnStartTouch" "Global_GameText_Announcement,FireUser3,,,1"
	"OnStartTouch" "Global_GameText_Announcement,AddOutput,message ** 你们也配从我们的手里拯救世界？！ **,,1"
	"OnStartTouch" "Nuke_Kill_humanTrigger01"
}
modify:
{
	match:
	{
		"targetname" "stage_x_helicopter_6"
	}
	delete:
	{
		"OnPass" "stage_human_detectorDisable0.1-1"
		"OnPass" "stage_human_detectorEnable0-1"
	}
	insert:
	{
		"OnPass" "stage_1_zombie_checkEnable0-1"
		"OnPass" "stage_human_detectorDisable0.15-1"
		"OnPass" "stage_human_detectorEnable0.05-1"
	}
}

//防止第一关人类上第四关飞机顶存活
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "stage_nuke_inmuzer2"
	}
	replace:
	{
		"origin" "3464 -11032 -12660"
	}
}

//EX2武器室增加飞扑，基因室增加冲击狗
modify:
{
	match:
	{
		"targetname" "Extreme_Stage_2"
		"origin" "-4464 12992 -8552"
	}
	insert:
	{
		"OnTrigger" "Zombie_Item_Shockwave_TemplateAddOutputorigin 8390.5 1287 -74140-1"
		"OnTrigger" "Zombie_Item_Shockwave_TemplateForceSpawn22-1"
		"OnTrigger" "Zombie_Item_Jumper_TemplateAddOutputorigin 901 873 -71000-1"
		"OnTrigger" "Zombie_Item_Jumper_TemplateForceSpawn22-1"
	}
}

//第二关无敌垃圾桶
add:
{
	"targetname" "stage_2_no_pipe"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "3923 751 -7373"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"OnStartTouch" "!activatorSetDamageFilterfilter_no_humans0.1-1"
	"OnEndTouch" "!activatorSetDamageFilter0.11-1"
}
modify:
{
	match:
	{
		"targetname" "stage2_things"
		"classname" "point_template"
	}
	insert:
	{
		"OnEntitySpawned" "stage_2_no_pipeaddoutputmins -136 -94 -10201"
		"OnEntitySpawned" "stage_2_no_pipeaddoutputmaxs 136 94 10201"
		"OnEntitySpawned" "stage_2_no_pipeaddoutputsolid 20.21"
	}
}

//第二关，修复提前打碎导致武器室超车
modify:
{
	match:
	{
		"targetname" "stage_2_escape_vent"
		"classname" "func_breakable"
	}
	insert:
	{
		"damagefilter" "filter_nothing"
	}
}
modify:
{
	match:
	{
		"targetname" "stage_2_button_core_generator"
		"classname" "func_button"
	}
	insert:
	{
		"OnPressed" "stage_2_escape_ventSetDamageFilter5-1"
	}
}

//第二关大传送时，清除黑洞巫师传送
modify:
{
	match:
	{
		"targetname" "stage_2_end_trigger"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnTrigger" "Zombie_Item_Summoner_Teleport_Trigger*kill0-1"
	}
}

//第二关通关检测到僵尸时，立刻处死人类并提示
modify:
{
	match:
	{
		"classname" "filter_activator_team"
		"targetname" "stage_2_end_check_zombie"
	}
	insert:
	{
		"OnPass" "Global_GameText_Announcement,FireUser3,,,1"
		"OnPass" "Global_GameText_Announcement,AddOutput,message ** 你们这帮菜B，僵尸跑啦！ **,,1"
		"OnPass" "Nuke_Kill_humanTrigger01"
	}
}

//第二关增加风柱冷却倒计时显示
add:
{
	"origin" "-3424 13224 -8552"
	"y" "0.52"
	"x" "0.02"
	"targetname" "stage_2_wind_text"
	"spawnflags" "1"
	"holdtime" "0.3"
	"fxtime" "0.1"
	"fadeout" "0"
	"fadein" "0"
	"effect" "0"
	"color2" "255 255 255"
	"color" "255 0 0"
	"channel" "3"
	"classname" "game_text"
	"OnUser1" "!selfDisplay0-1"
	"OnUser1" "!selfFireUser10.1-1"
}
add:
{
	"origin" "4560 1128 -6824"
	"targetname" "stage_2_wind_relay"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "stage_2_wind_textFireUser101"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续10秒0-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续9秒1-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续8秒2-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续7秒3-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续6秒4-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续5秒5-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续4秒6-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续3秒7-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续2秒8-1"
	"OnTrigger" "stage_2_wind_textSetText风柱生效中，效果持续1秒9-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待20秒10-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待19秒11-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待18秒12-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待17秒13-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待16秒14-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待15秒15-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待14秒16-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待13秒17-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待12秒18-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待11秒19-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待10秒20-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待9秒21-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待8秒22-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待7秒23-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待6秒24-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待5秒25-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待4秒26-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待3秒27-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待2秒28-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能中，需等待1秒29-1"
	"OnTrigger" "stage_2_wind_textSetText风柱充能完毕，准备就绪30-1"
}
modify:
{
	match:
	{
		"targetname" "stage_2_main_room_push_logic"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "stage_2_wind_relayTrigger0-1"
		"OnTrigger" "!activatoraddoutputrendermode 10-1"
		"OnTrigger" "!activatoraddoutputrendercolor 255 0 00.1-1"
		"OnTrigger" "!activatoraddoutputrendercolor 255 255 25530-1"
	}
}

//修改第二关管道口push为传送
add:
{
	"targetname" "stage2_anti_shall"
	"StartDisabled" "0"
	"spawnflags" "1"
	"model" "*404"
	"origin" "4544 1484 -6912"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"OnStartTouch" "!activatorAddOutputorigin 3929.5 768 -73870-1"
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "stage_2_end_trigger"
	}
	insert:
	{
		"OnStartTouch" "stage2_anti_shallKill0-1"
	}
}

//修改第三关随机电梯为固定
modify:
{
	match:
	{
		"targetname" "stage_3_tube_elevators_timer"
		"classname" "logic_timer"
	}
	insert:
	{
		"OnTimer" "!selfFireUser201"
		"OnUser1" "stage_3_vertical_tube_maker_1AddOutputorigin 4156 768 -10160-1"
		"OnUser1" "!selfAddOutputOnTimer !self:FireUser2::0:11-1"
		"OnUser2" "stage_3_vertical_tube_maker_1AddOutputorigin 4156 1600 -10160-1"
		"OnUser2" "!selfAddOutputOnTimer !self:FireUser1::0:11-1"
	}
	delete:
	{
		"OnTimer" "stage_3_tube_elevators_casePickRandom0-1"
	}
}

//第三关反复按开关闪屏
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "stage_3_corridor_button_8"
	}
	delete:
	{
		"OnPressed" "stage_x_corridor_door_8Open0-1"
		"OnPressed" "fallback_fadeFade0-1"
	}
	insert:
	{
		"OnPressed" "stage_x_corridor_door_8Open01"
		"OnPressed" "fallback_fadeFade01"
	}
}

//第三关增加火室传送点，按下开关过35秒后解锁
modify:
{
	match:
	{
		"targetname" "stage_3_tests_relay_1"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "stage_positioner_teleportInValue32351"
	}
}

//扩大冰室范围
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "stage_3_tests_main_5"
	}
	replace:
	{
		"model" "*261"
		"origin" "5025.78 5771.83 968"
	}
}

//第三关黑洞冰室功能禁止僵尸使用
modify:
{
	match:
	{
		"hammerid" "5139483"
	}
	insert:
	{
		"OnPressed" "ZOMBIESTRIGGEREDRunScriptCodegra()0-1"
	}
	delete:
	{
		"OnPressed" "stage_3_tests_relay_2Trigger0-1"
	}
}
modify:
{
	match:
	{
		"hammerid" "5139523"
	}
	insert:
	{
		"OnPressed" "ZOMBIESTRIGGEREDRunScriptCodeice()0-1"
	}
	delete:
	{
		"OnPressed" "stage_3_tests_relay_5Trigger0-1"
	}
}

//EX3管道无敌，三个垃圾桶无敌
add:
{
	"targetname" "stage_3_no_pipe"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "5653 1257 858"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"OnStartTouch" "!activatorSetDamageFilterfilter_no_humans0.1-1"
	"OnEndTouch" "!activatorSetDamageFilter0.11-1"
}

add:
{
	"targetname" "stage_3_no_pipe0"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "3894 6604 -863"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"angles" "0 90 0"
	"OnStartTouch" "!activatorSetDamageFilterfilter_no_humans0.1-1"
	"OnEndTouch" "!activatorSetDamageFilter0.11-1"
}

add:
{
	"targetname" "stage_3_no_pipe_2"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "6640.5 5240 835.87"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"OnStartTouch" "!activatorSetDamageFilterfilter_no_humans0.1-1"
	"OnEndTouch" "!activatorSetDamageFilter0.11-1"
}

add:
{
	"targetname" "stage_3_no_pipe_3"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "8014 3879.5 1221.09"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"OnStartTouch" "!activatorSetDamageFilterfilter_no_humans0.1-1"
	"OnEndTouch" "!activatorSetDamageFilter0.11-1"
}

add:
{
	"targetname" "stage_3_no_pipe_4"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "706 1908.5 1442.42"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"OnStartTouch" "!activatorSetDamageFilterfilter_no_humans0.1-1"
	"OnEndTouch" "!activatorSetDamageFilter0.11-1"
}

add:
{
	"targetname" "stage_3_no_pipe_5"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "-305.5 6393 -548.42"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"OnStartTouch" "!activatorSetDamageFilterfilter_no_humans0.1-1"
	"OnEndTouch" "!activatorSetDamageFilter0.11-1"
}

modify:
{
	match:
	{
		"targetname" "stage3_things"
		"classname" "point_template"
	}
	insert:
	{
		"OnEntitySpawned" "stage_3_no_pipeaddoutputmins -32 -100 -3201"
		"OnEntitySpawned" "stage_3_no_pipeaddoutputmaxs 32 100 3201"
		"OnEntitySpawned" "stage_3_no_pipeaddoutputsolid 20.21"
		"OnEntitySpawned" "stage_3_no_pipe0addoutputmins -32 -108 -3601"
		"OnEntitySpawned" "stage_3_no_pipe0addoutputmaxs 32 108 3601"
		"OnEntitySpawned" "stage_3_no_pipe0addoutputsolid 20.21"
		"OnEntitySpawned" "stage_3_no_pipe_2addoutputmins -70 -50 -5001"
		"OnEntitySpawned" "stage_3_no_pipe_2addoutputmaxs 70 50 5001"
		"OnEntitySpawned" "stage_3_no_pipe_2addoutputsolid 20.21"
		"OnEntitySpawned" "stage_3_no_pipe_3addoutputmins -50 -70 -5001"
		"OnEntitySpawned" "stage_3_no_pipe_3addoutputmaxs 50 70 5001"
		"OnEntitySpawned" "stage_3_no_pipe_3addoutputsolid 20.21"
		"OnEntitySpawned" "stage_3_no_pipe_4addoutputmins -50 -70 -5001"
		"OnEntitySpawned" "stage_3_no_pipe_4addoutputmaxs 50 70 5001"
		"OnEntitySpawned" "stage_3_no_pipe_4addoutputsolid 20.21"
		"OnEntitySpawned" "stage_3_no_pipe_5addoutputmins -50 -70 -5001"
		"OnEntitySpawned" "stage_3_no_pipe_5addoutputmaxs 50 70 5001"
		"OnEntitySpawned" "stage_3_no_pipe_5addoutputsolid 20.21"
	}
}

//第三关boss战取消僵尸隐身
modify:
{
	match:
	{
		"targetname" "stage_3_extreme_trigger"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Zombie_Item_Freezer_ModelKill0-1"
		"OnTrigger" "Zombie_Item_Predator_ModelKill0-1"
		"OnTrigger" "Zombie_Item_Shockwave_ModelKill0-1"
		"OnTrigger" "Zombie_Item_Antlion_ModelKill0-1"
		"OnTrigger" "Zombie_Item_Tank_ModelKill0-1"
		"OnTrigger" "Zombie_Item_Vortigaunt_ModelKill0-1"
		"OnTrigger" "Zombie_Item_Alma_ModelKill0-1"
		"OnTrigger" "Zombie_Item_Jumper_ModelKill0-1"
		"OnTrigger" "Zombie_Item_Summoner_ModelKill0-1"
	}
}


//第三关BOSS站结束取消免抓，将A哥强制修改位置并延迟定身5秒，清除黑洞巫师传送
modify:
{
	match:
	{
		"targetname" "stage_x_end_vehicle_escape_track_1"
		"classname" "path_track"
	}
	insert:
	{
		"OnPass" "playerSetDamageFilter0.11"
		"OnPass" "zombie_bossaddoutputorigin 2704 1456 17090.11"
		"OnPass" "Zombie_Item_Summoner_Teleport_Trigger*kill0-1"
	}
}

modify:
{
	match:
	{
		"targetname" "Zombie_Item_Boss_CanDie"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "zombie_bossrunscriptcodeforeach(k,_ in {Global_Speed_suppress=1}){foreach(v,__ in {ModifySpeed=1}){EntFire(k, v, '0'.tochar(), 0.0, self);}}0.11"
		"OnTrigger" "zombie_bossrunscriptcodeforeach(k,_ in {Global_Speed_suppress=1}){foreach(v,__ in {ModifySpeed=1}){EntFire(k, v, '1'.tochar(), 0.0, self);}}13.91"
		"OnTrigger" "zombie_bossAddOutputmovetype 219-1"
	}
	delete:
	{
		"OnTrigger" "zombie_bossAddOutputmovetype 214-1"
	}
}

//第三关火车撤退时间增加三秒
modify:
{
	match:
	{
		"targetname" "stage_x_end_vehicle_escape_track_1"
		"classname" "path_track"
	}
	insert:
	{
		"OnPass" "stage_x2_escape_vehicleStartForward10-1"
	}
	delete:
	{
		"OnPass" "stage_x2_escape_vehicleStartForward7-1"
	}
}

//禁止第三关结局提前打油桶关门卡人
modify:
{
	match:
	{
		"classname" "trigger_push"
		"targetname" "stage_3_push_end"
	}
	insert:
	{
		"StartDisabled" "0"
	}
}

modify:
{
	match:
	{
		"classname" "func_tracktrain"
		"targetname" "stage_x2_escape_vehicle"
	}
	insert:
	{
		"OnUser1" "stage_3_boos_end_doorKill0-1"
	}
}

//处理第三关，A哥退服/自杀问题
add:
{
	"origin" "-13032 13256 11272"
	"targetname" "stage_3_end_boss_miss"
	"classname" "logic_relay"
	"OnTrigger" "Zombie_Item_Boss_CanDieEnable0.5-1"
	"OnTrigger" "!selfKill1-1"
}
modify:
{
	match:
	{
		"targetname" "Zombie_Item_Boss_Knife"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnUser4" "stage_3_end_boss_missTrigger0.21"
	}
}
modify:
{
	match:
	{
		"targetname" "Zombie_Item_Boss_Super_Health"
		"classname" "func_physbox_multiplayer"
	}
	insert:
	{
		"OnUser4" "stage_3_end_boss_missCancelPending01"
		"OnUser4" "Zombie_Item_Boss_KnifeFireUser401"
	}
}
modify:
{
	match:
	{
		"targetname" "Zombie_Item_Boss_Normal_Transformation"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "stage_3_end_boss_missTrigger41-1"
		"OnTrigger" "Zombie_Item_Boss_Super_HealthFireUser441.21"
	}
}

//第三关通关增加僵尸检测，检测到僵尸时处死人类
add:
{
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"origin" "2496 -13032 1848"3
	"model" "*792"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "stage_3_zombie_check"
	"wait" "1"
	"OnStartTouch" "Global_GameText_Announcement,FireUser3,,,1"
	"OnStartTouch" "Global_GameText_Announcement,AddOutput,message ** 别想逃出这里！！ **,,1"
	"OnStartTouch" "Nuke_Kill_humanTrigger01"
}

modify:
{
	match:
	{
		"targetname" "stage_x_end_vehicle_escape_track_2"
	}
	insert:
	{
		"OnPass" "stage_3_zombie_checkEnable10-1"
		"OnPass" "stage_end_explosion_workingTrigger15-1"
		"OnPass" "Global_Kill_ZombiesFireUser117-1"
		"OnPass" "stage_3_nukeEnable15-1"
	}
	delete:
	{
		"OnPass" "stage_end_explosion_workingTrigger9-1"
		"OnPass" "Global_Kill_ZombiesFireUser111-1"
		"OnPass" "stage_3_nukeEnable9-1"
	}
}

//第三关boss二阶段，取消垃圾桶无敌
modify:
{
	match:
	{
		"hammerid" "10339510"
	}
	insert:
	{
		"OnTrigger" "stage_3_no_pipe*disable0-1"
	}
}

//ex4增加蚁狮巫师女鬼
modify:
{
	match:
	{
		"targetname" "Extreme_Stage_4"
		"origin" "-4464 12960 -8552"
	}
	insert:
	{
		"OnTrigger" "Zombie_Item_Summoner_TemplateAddOutputorigin 6656 2569 34080-1"
		"OnTrigger" "Zombie_Item_Summoner_TemplateForceSpawn22-1"
		"OnTrigger" "Zombie_Item_Alma_TemplateAddOutputorigin 11768 -2819 34000-1"
		"OnTrigger" "Zombie_Item_Alma_TemplateForceSpawn22-1"
		"OnTrigger" "Zombie_Item_Antlion_TemplateAddOutputorigin 6658 3451 34080-1"
		"OnTrigger" "Zombie_Item_Antlion_TemplateForceSpawn22-1"
	}
}

//修复第四关，油罐车传送
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "stage_4_door_phys"
	}
	insert:
	{
		"OnBreak" "stage_4_teleportKill0.05-1"
	}
}

//修复第四关提前拾取火车司机
modify:
{
	match:
	{
		"targetname" "NPC_Train_Driver_Weapon"
		"classname" "weapon_glock"
	}
	replace:
	{
		"CanBePickedUp" "0"
	}
}
modify:
{
	match:
	{
		"targetname" "Vehicle_Fake_Truck_Path_Track_7"
		"classname" "path_track"
	}
	insert:
	{
		"OnPass" "NPC_Train_Driver_WeaponaddoutputCanBePickedUp 10-1"
	}
}

//第四关垃圾桶无敌
add:
{
	"targetname" "stage_4_no_pipe_1"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "178.5 -782 3379.86"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"OnStartTouch" "!activatorSetDamageFilterfilter_no_humans0.1-1"
	"OnEndTouch" "!activatorSetDamageFilter0.11-1"
}
modify:
{
	match:
	{
		"targetname" "stage4_things"
		"classname" "point_template"
	}
	insert:
	{
		"OnEntitySpawned" "stage_4_no_pipe_1addoutputmins -70 -50 -5001"
		"OnEntitySpawned" "stage_4_no_pipe_1addoutputmaxs 70 50 5001"
		"OnEntitySpawned" "stage_4_no_pipe_1addoutputsolid 20.21"
		"OnEntitySpawned" "stage_4_trigger_tank_outaddoutputmins -640 -1658 -26401"
		"OnEntitySpawned" "stage_4_trigger_tank_outaddoutputmaxs 640 1658 26401"
		"OnEntitySpawned" "stage_4_trigger_tank_outaddoutputsolid 20.21"
	}
}

//修复第四关跳核弹不传送
modify:
{
	match:
	{
		"classname" "trigger_teleport"
		"targetname" "stage_4_trigger_pad"
	}
	delete:
	{
		"landmark" "stages_teleport_destination"
	}
	insert:
	{
		"target" "stages_teleport_destination"
	}
}

//第四关触发最终区域增加限制
modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "stage_4_part_5_trigger"
	}
	insert:
	{
		"OnStartTouch" "stage_4_trigger_endEnable0-1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "stage_4_trigger_end"
	}
	replace:
	{
		"StartDisabled" "1"
	}
}

//修改4关飞机路径
modify:
{
	match:
	{
		"targetname" "stage_x_end_helicopter_track_4"
		"classname" "path_track"
	}
	replace:
	{
		"origin" "13696 -8038 3350"
	}
}
modify:
{
	match:
	{
		"targetname" "stage_x_end_helicopter_track_5"
		"classname" "path_track"
	}
	replace:
	{
		"origin" "12541 -8379 3936"
	}
	insert:
	{
		"OnPass" "stage_end_zombie_checkenable5-1"
		"OnPass" "stage_end_zombie_checkdisable5.1-1"
	}
}
modify:
{
	match:
	{
		"targetname" "stage_x_end_helicopter_track_7"
		"classname" "path_track"
	}
	replace:
	{
		"origin" "-5390 -9275 5256"
	}
	insert:
	{
		"OnPass" "stage_end_explosion_workingTrigger5-1"
	}
}

//第四关水下增加坦克破坏区域
add:
{
	"classname" "trigger_multiple"
	"origin" "10880 -9200 2888"
	"spawnflags" "8"
	"StartDisabled" "0"
	"targetname" "stage_4_trigger_tank_out"
	"wait" "1"
	"OnStartTouch" "!activatorFireUser30-1"
}

//黑洞巫师变更5关刷新位置
modify:
{
	match:
	{
		"targetname" "Case_Events_Stage_5"
		"origin" "-4256 11256 -8552"
	}
	insert:
	{
		"OnCase01" "Zombie_Item_Summoner_TemplateAddOutputorigin 5613 1905 116600-1"
	}
	delete:
	{
		"OnCase01" "Zombie_Item_Summoner_TemplateAddOutputorigin 4752 4792 107600-1"
	}
}

//第五关修改坦克位置，防止遁地
modify:
{
	match:
	{
		"targetname" "Spawn_Tank_Teleport_stage_5"
	}
	replace:
	{
		"origin" "9024 -4600 9892"
	}
}

//修复机甲卡黑屋视角1
modify:
{
	match:
	{
		"hammerid" "10503219"
	}
	delete:
	{
		"OnStartTouch" "game_player_equipUse1-1"
		"OnStartTouch" "Global_Weapon_StripStripWeaponsAndSuit0-1"
	}
	insert:
	{
		"OnStartTouch" "Global_Weapon_StripStripWeaponsAndSuit0-1"
		"OnStartTouch" "Human_Item_Mech_Triggerkill0.02-1"
		"OnStartTouch" "game_player_equipUse1-1"
		"OnStartTouch" "consoleCommandsay * *  猫说：这是修复机甲卡黑屋1号！  **1-1"
	}
}

//修复机甲卡黑屋视角2
modify:
{
	match:
	{
		"targetname" "Human_Item_Mech_Knife"
		"classname" "weapon_knife"
	}
	delete:
	{
		"OnPlayerPickup" "!activatorAddOutputrendermode 100-1"
		"OnPlayerPickup" "!activatorAddOutputtargetname human_mech0-1"
		"OnPlayerPickup" "Human_Item_Mech_TriggerKill0-1"
		"OnPlayerPickup" "Human_Item_Mech_UIActivate0-1"
		"OnPlayerPickup" "Human_Item_Mech_CamEnable0-1"
		"OnPlayerPickup" "Human_Item_Mech_ModelSetAnimationRun0-1"
		"OnPlayerPickup" "Human_Item_Mech_ModelSetDefaultAnimationRun0-1"
		"OnPlayerPickup" "!activatorAddOutputgravity 20-1"
		"OnPlayerPickup" "Human_Item_Mech_SelectorAdd10.01-1"
		"OnPlayerPickup" "Human_Item_Mech_WalkEnable0-1"
		"OnPlayerPickup" "Global_SpeedModifySpeed0.80-1"
		"OnPlayerPickup" "Human_Item_Mech_HintFireUser15-1"
		"OnPlayerPickup" "stage_4_Human_Item_Mech_Hint_TelpShowHudHint0-1"
		"OnPlayerPickup" "!activatorAddOutputrenderamt 001"
		"OnPlayerPickup" "!activatorAddOutputrenderfx 1001"
		"OnPlayerPickup" "!activatorSetDamageFilterfilter_no_zombies0-1"
	}
	insert:
	{
		"OnPlayerPickup" "!activatorAddOutputrendermode 100.01-1"
		"OnPlayerPickup" "!activatorAddOutputtargetname human_mech0.01-1"
		"OnPlayerPickup" "Human_Item_Mech_UIActivate0.01-1"
		"OnPlayerPickup" "Human_Item_Mech_CamEnable0.01-1"
		"OnPlayerPickup" "Human_Item_Mech_ModelSetAnimationRun0.02-1"
		"OnPlayerPickup" "Human_Item_Mech_ModelSetDefaultAnimationRun0.02-1"
		"OnPlayerPickup" "!activatorAddOutputgravity 20.02-1"
		"OnPlayerPickup" "Human_Item_Mech_SelectorAdd10.01-1"
		"OnPlayerPickup" "Human_Item_Mech_WalkEnable0.02-1"
		"OnPlayerPickup" "Global_SpeedModifySpeed0.80.02-1"
		"OnPlayerPickup" "Human_Item_Mech_HintFireUser15-1"
		"OnPlayerPickup" "stage_4_Human_Item_Mech_Hint_TelpShowHudHint0.02-1"
		"OnPlayerPickup" "!activatorAddOutputrenderamt 00.011"
		"OnPlayerPickup" "!activatorAddOutputrenderfx 100.011"
		"OnPlayerPickup" "!activatorSetDamageFilterfilter_no_zombies0.01-1"
	}

}

//修改黑屋传送带类型防止无法传送
modify:
{
	match:
	{
		"hammerid" "10547875"
	}
	replace:
	{
		"classname" "trigger_multiple"
	}
}

modify:
{
	match:
	{
		"hammerid" "10547875"
	}
	insert:
	{
		"OnStartTouch" "Human_Item_Mech_Leavekill3-1"
	}
}

//防止连跳拿机甲越过刀
modify:
{
	match:
	{
		"hammerid" "10547370"
	}
	insert:
	{
		"OnStartTouch" "Global_SpeedModifySpeed00-1"
		"OnStartTouch" "Global_SpeedModifySpeed0.82-1"
	}
}

//提前第五关雷兽出现时间
modify:
{
	match:
	{
		"classname" "point_template"
		"targetname" "stage5_things"
	}
	delete:
	{
		"OnEntitySpawned" "stage_5_lower_ultraliskTrigger120-1"
	}
	insert:
	{
		"OnEntitySpawned" "stage_5_lower_ultralisk,Trigger,,100,1"
	}
}

//修改第五关核心电梯伤害
modify:
{
	match:
	{
		"targetname" "stage_x_main_lift"
		"classname" "func_door"
	}
   replace:
	{
		"dmg" "114514"
	}
}

//第五关电梯可激活后，36秒不按则处死人类
modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "stage_5_lower_counter_energy"
	}
	insert:
	{
		"OnHitMax" "stage5_antidelay,Trigger,,,1"
		"OnHitMax" "!self,Kill,,,1"
	}
}

modify:
{
	match:
	{
		"classname" "filter_activator_team"
		"targetname" "stage_5_button_filter"
	}
	insert:
	{
		"OnPass" "stage5_antidelay,CancelPending,,,1"
	}
}

add:
{
	"classname" "logic_relay"
	"targetname" "stage5_antidelay"
	"OnTrigger" "Global_GameText_Announcement,FireUser3,,6,1"
	"OnTrigger" "Global_GameText_Announcement,AddOutput,message ** 核心下层将在三十秒后被放弃！ **,6,1"
	"OnTrigger" "Global_GameText_Announcement,FireUser3,,16,1"
	"OnTrigger" "Global_GameText_Announcement,AddOutput,message ** 还有二十秒！ **,16,1"
	"OnTrigger" "Global_GameText_Announcement,FireUser3,,26,1"
	"OnTrigger" "Global_GameText_Announcement,AddOutput,message ** 最后十秒，快按下电梯！ **,26,1"
	"OnTrigger" "Nuke_Kill_human,Trigger,,36,1"
}

//堵上火车路
modify:
{
	match:
	{
		"classname" "prop_dynamic_override"
		"targetname" "stage_5_megatrontruck"
	}
	replace:
	{
		"origin" "3904 -3440 12480"
	}
}

//修改第五关天选机制为脚本随机
modify:
{
	match:
	{
		"targetname" "stage_5_last_man_detect"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "stage_5_core_destroyedrunscriptcodePickLastMan()0.11"
	}
	delete:
	{
		"OnStartTouch" "!activatorAddOutputtargetname last_man_standing0.11"
	}
}

modify:
{
	match:
	{
		"targetname" "stage_5_core_destroyed"
		"classname" "logic_relay"
	}
	insert:
	{
		"vscripts" "ze_last_man_standing_p2/last_man_pick.nut"
	}
}

//第五关核心充能完毕时，清除黑洞巫师传送
modify:
{
	match:
	{
		"targetname" "stage_5_core_counter"
		"classname" "math_counter"
	}
	insert:
	{
		"OnHitMin" "Zombie_Item_Summoner_Teleport_Trigger*kill0-1"
	}
}

//修复机甲蜕皮隐身
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "Human_Item_Mech_Body"
	}
	insert:
	{
		"OnBreak" "human_mechAddOutputrendermode 01.99-1"
	}
}


modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "stage_5_last_man_detect"
	}
	insert:
	{
		"OnStartTouch" "Human_Item_Mech_BodyBreak0.51"
	}
	delete:
	{
		"OnStartTouch" "Human_Item_Mech_BodyKill0.51"
	}
}

;remove unpacked sounds
modify:
{
	match:
	{
		"noise1" "ambient/machines/wall_move2.wav"
	}
	delete:
	{
		"noise1" "ambient/machines/wall_move2.wav"
	}
}

modify:
{
	match:
	{
		"noise2" "ambient/levels/labs/machine_stop1.wav"
	}
	delete:
	{
		"noise2" "ambient/levels/labs/machine_stop1.wav"
	}
}

modify:
{
	match:
	{
		"noise2" "plats/elevator_large_stop1.wav"
	}
	delete:
	{
		"noise2" "plats/elevator_large_stop1.wav"
	}
}

;取消蓝结局高重力
modify:
{
	match:
	{
		"targetname" "/stage_5_end_t_[13]/"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "!activatorAddOutputgravity 20-1"
	}
}


modify:
{
	match:
	{
		"targetname" "stage_5_core_end_button"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "!activatorAddOutputgravity 1.50-1"
	}
}

;修正传送枪反复传送的问题
modify:
{
	match:
	{
		"targetname" "Weapon_PortalGun_Portal_1_Phys"
		"classname" "func_physbox_multiplayer"
	}
	insert:
	{
		"OnUser1" "Weapon_PortalGun_Portal_1_TriggerKill0-1"
		"OnUser2" "Weapon_PortalGun_Portal_1_TriggerClearParent1.5-1"
	}
}


modify:
{
	match:
	{
		"targetname" "Weapon_PortalGun_Portal_2_Phys"
		"classname" "func_physbox_multiplayer"
	}
	insert:
	{
		"OnUser1" "Weapon_PortalGun_Portal_2_TriggerKill0-1"
		"OnUser2" "Weapon_PortalGun_Portal_2_TriggerClearParent1.5-1"
	}
}


add:
{
	"model" "*86"
	"wait" "1"
	"targetname" "Weapon_PortalGun_Portal_1_Trigger"
	"StartDisabled" "1"
	"spawnflags" "1"
	"parentname" "Weapon_PortalGun_Portal_1_Teleport"
	"origin" "-1088 13304 -8516"
	"classname" "trigger_multiple"
	"filtername" "Weapon_PortalGun_FixFilter_2"
	"OnStartTouch" "!activatorAddContextplayer_portal_1:10-1"
	"OnStartTouch" "Weapon_PortalGun_EnterPortalSoundFireUser10-1"
}

add:
{
	"model" "*89"
	"wait" "1"
	"targetname" "Weapon_PortalGun_Portal_2_Trigger"
	"StartDisabled" "1"
	"spawnflags" "1"
	"parentname" "Weapon_PortalGun_Portal_2_Teleport"
	"origin" "-1088 13352 -8516"
	"classname" "trigger_multiple"
	"filtername" "Weapon_PortalGun_FixFilter_1"
	"OnStartTouch" "!activatorAddContextplayer_portal_2:10-1"
	"OnStartTouch" "Weapon_PortalGun_EnterPortalSoundFireUser10-1"
}

add:
{
	"targetname" "Weapon_PortalGun_FixFilter_1_2"
	"ResponseContext" "player_portal_1"
	"Negated" "0"
	"classname" "filter_activator_context"
}

add:
{
	"targetname" "Weapon_PortalGun_FixFilter_2_2"
	"ResponseContext" "player_portal_2"
	"Negated" "0"
	"classname" "filter_activator_context"
}

modify:
{
	match:
	{
		"targetname" "Weapon_PortalGun_Portal_1_Teleport"
		"classname" "trigger_teleport"
	}
	delete:
	{
		"OnEndTouch" "Weapon_PortalGun_EnterPortalSoundFireUser10-1"
		"OnStartTouch" "!activatorAddContextplayer_portal_1:10-1"
		"OnEndTouch" "!activatorRemoveContextplayer_portal_20-1"
	}
	replace:
	{
		"filtername" "Weapon_PortalGun_FixFilter_1_2"
	}
}

modify:
{
	match:
	{
		"targetname" "Weapon_PortalGun_Portal_2_Teleport"
		"classname" "trigger_teleport"
	}
	delete:
	{
		"OnEndTouch" "Weapon_PortalGun_EnterPortalSoundFireUser10-1"
		"OnEndTouch" "!activatorRemoveContextplayer_portal_10-1"
		"OnStartTouch" "!activatorAddContextplayer_portal_2:10-1"
	}
	replace:
	{
		"filtername" "Weapon_PortalGun_FixFilter_2_2"
	}
}

; 取消坦克按E弹出
modify:
{
	match:
	{
		"targetname" "v_ui1"
		"classname" "game_ui"
	}
	replace:
	{
		"spawnflags" "352"
	}
}

//第五关歌词
add:
{
	"classname" "game_text"
	"origin" "-5701.34 -723.98 -15159.97"
	"y" "0.65"
	"x" "0.02"
	"targetname" "ex5_music_text"
	"spawnflags" "1"
	"message" ""
	"holdtime" "6"
	"fxtime" "1.5"
	"fadeout" "0.1"
	"fadein" "0.3"
	"effect" "0"
	"color2" "255 255 255"
	"color" "255 255 255"
	"channel" "1"
}

add:
{
	"classname" "game_text"
	"origin" "-5701.34 -723.98 -15159.98"
	"y" "0.68"
	"x" "0.02"
	"targetname" "ex5_music_text2"
	"spawnflags" "1"
	"message" ""
	"holdtime" "6"
	"fxtime" "1.5"
	"fadeout" "0.1"
	"fadein" "0.3"
	"effect" "0"
	"color2" "255 255 255"
	"color" "255 255 255"
	"channel" "2"
}

add:
{
	"origin" "-5701.34 -723.98 -15159.98"
	"targetname" "stage_10_start_relay"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "ex5_music_textSetText歌词文案 by-龙鸣15.001"
	"OnTrigger" "ex5_music_text2SetText歌词stripper by-龙鸣/修复 koen15.001"
	"OnTrigger" "ex5_music_text*Display15.101"

	"OnTrigger" "ex5_music_textSetText歌曲——Finale20.001"
	"OnTrigger" "ex5_music_text2SetText歌手——Madeon20.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 320.051"
	"OnTrigger" "ex5_music_text*Display20.101"

	"OnTrigger" "ex5_music_textSetTextYour last chance23.001"
	"OnTrigger" "ex5_music_text2SetText你最后的机会23.001"
	"OnTrigger" "ex5_music_text*Display23.101"

	"OnTrigger" "ex5_music_textSetTextLast Summer26.001"
	"OnTrigger" "ex5_music_text2SetText最后的夏日26.001"
	"OnTrigger" "ex5_music_text*Display26.101"

	"OnTrigger" "ex5_music_textSetTextYour last dance29.001"
	"OnTrigger" "ex5_music_text2SetText赴死前的身姿29.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 229.051"
	"OnTrigger" "ex5_music_text*Display29.101"

	"OnTrigger" "ex5_music_textSetTextTo beat to your own drummer31.001"
	"OnTrigger" "ex5_music_text2SetText奏响黎明前的曙光31.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 431.051"
	"OnTrigger" "ex5_music_text*Display31.101"

	"OnTrigger" "ex5_music_textSetTextGo out fighting35.001"
	"OnTrigger" "ex5_music_text2SetText与命运最后的抗争35.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 235.051"
	"OnTrigger" "ex5_music_text*Display35.101"

	"OnTrigger" "ex5_music_textSetTextGo out young37.001"
	"OnTrigger" "ex5_music_text2SetText为了你要守护的人37.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 337.051"
	"OnTrigger" "ex5_music_text*Display37.101"

	"OnTrigger" "ex5_music_textSetTextA flash of lightning40.001"
	"OnTrigger" "ex5_music_text2SetText宛如化为一道闪电40.001"
	"OnTrigger" "ex5_music_text*Display40.101"

	"OnTrigger" "ex5_music_textSetTextEclipse the sun43.001"
	"OnTrigger" "ex5_music_text2SetText誓要净化这混沌的世界43.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 243.051"
	"OnTrigger" "ex5_music_text*Display43.101"

	"OnTrigger" "ex5_music_textSetTextYour last chance45.001"
	"OnTrigger" "ex5_music_text2SetText你最后的机会45.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 445.051"
	"OnTrigger" "ex5_music_text*Display45.101"

	"OnTrigger" "ex5_music_textSetTextLast Summer49.001"
	"OnTrigger" "ex5_music_text2SetText最后的夏日49.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 249.051"
	"OnTrigger" "ex5_music_text*Display49.101"

	"OnTrigger" "ex5_music_textSetTextYour last dance51.001"
	"OnTrigger" "ex5_music_text2SetText赴死前的身姿51.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 351.051"
	"OnTrigger" "ex5_music_text*Display51.101"

	"OnTrigger" "ex5_music_textSetTextTo beat to your own drummer54.001"
	"OnTrigger" "ex5_music_text2SetText奏响黎明前的曙光54.001"
	"OnTrigger" "ex5_music_text*Display54.101"

	"OnTrigger" "ex5_music_textSetTextGo out fighting57.001"
	"OnTrigger" "ex5_music_text2SetText与命运最后的抗争57.001"
	"OnTrigger" "ex5_music_text*Display57.101"

	"OnTrigger" "ex5_music_textSetTextGo out young60.001"
	"OnTrigger" "ex5_music_text2SetText为了你要守护的人60.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 260.051"
	"OnTrigger" "ex5_music_text*Display60.101"

	"OnTrigger" "ex5_music_textSetTextA flash of lightning62.001"
	"OnTrigger" "ex5_music_text2SetText宛如化为一道闪电62.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 362.051"
	"OnTrigger" "ex5_music_text*Display62.101"

	"OnTrigger" "ex5_music_textSetTextEclipse the sun65.001"
	"OnTrigger" "ex5_music_text2SetText誓要净化这混沌的世界65.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 265.051"
	"OnTrigger" "ex5_music_text*Display65.101"

	"OnTrigger" "ex5_music_textSetTextBrace yourself brace yourself67.001"
	"OnTrigger" "ex5_music_text2SetText振作起来！坚持下去！67.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 567.051"
	"OnTrigger" "ex5_music_text*Display67.101"

	"OnTrigger" "ex5_music_textSetTextBrace yourself for the grand finale87.001"
	"OnTrigger" "ex5_music_text2SetText为命运的终章揭开帷幕！！！87.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 487.051"
	"OnTrigger" "ex5_music_text*Display87.101"

	"OnTrigger" "ex5_music_textSetTextWhoa oh~~~91.001"
	"OnTrigger" "ex5_music_text2SetTextWhoa oh~~~91.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 1091.051"
	"OnTrigger" "ex5_music_text*Display91.101"

	"OnTrigger" "ex5_music_textSetTextBrace yourself for the grand finale131.001"
	"OnTrigger" "ex5_music_text2SetText为命运的终章揭开帷幕！！！131.001"
	"OnTrigger" "ex5_music_text*Display131.101"

	"OnTrigger" "ex5_music_textSetTextYour last chance156.001"
	"OnTrigger" "ex5_music_text2SetText你最后的机会156.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 3156.051"
	"OnTrigger" "ex5_music_text*Display156.101"

	"OnTrigger" "ex5_music_textSetTextLast Summer159.001"
	"OnTrigger" "ex5_music_text2SetText最后的夏日159.001"
	"OnTrigger" "ex5_music_text*Display159.101"

	"OnTrigger" "ex5_music_textSetTextYour last dance162.001"
	"OnTrigger" "ex5_music_text2SetText赴死前的身姿162.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2162.051"
	"OnTrigger" "ex5_music_text*Display162.101"

	"OnTrigger" "ex5_music_textSetTextTo beat to your own drummer164.001"
	"OnTrigger" "ex5_music_text2SetText奏响黎明前的曙光164.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 4164.051"
	"OnTrigger" "ex5_music_text*Display164.101"

	"OnTrigger" "ex5_music_textSetTextGo out fighting168.001"
	"OnTrigger" "ex5_music_text2SetText与命运最后的抗争168.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 3168.051"
	"OnTrigger" "ex5_music_text*Display168.101"

	"OnTrigger" "ex5_music_textSetTextGo out young171.001"
	"OnTrigger" "ex5_music_text2SetText为了你要守护的人171.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2171.051"
	"OnTrigger" "ex5_music_text*Display171.101"

	"OnTrigger" "ex5_music_textSetTextA flash of lightning173.001"
	"OnTrigger" "ex5_music_text2SetText宛如化为一道闪电173.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 3173.051"
	"OnTrigger" "ex5_music_text*Display173.101"

	"OnTrigger" "ex5_music_textSetTextEclipse the sun176.001"
	"OnTrigger" "ex5_music_text2SetText誓要净化这混沌的世界176.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2176.051"
	"OnTrigger" "ex5_music_text*Display176.101"

	"OnTrigger" "ex5_music_textSetTextBrace yourself brace yourself178.001"
	"OnTrigger" "ex5_music_text2SetText振作起来！坚持下去！178.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 5156.051"
	"OnTrigger" "ex5_music_text*Display178.101"

	"OnTrigger" "ex5_music_textSetTextBrace yourself for the grand finale198.001"
	"OnTrigger" "ex5_music_text2SetText为命运的终章揭开帷幕！！！198.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 4198.051"
	"OnTrigger" "ex5_music_text*Display198.101"

	"OnTrigger" "ex5_music_textSetTextWhoa oh~~~202.001"
	"OnTrigger" "ex5_music_text2SetTextWhoa oh~~~202.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 10202.051"
	"OnTrigger" "ex5_music_text*Display202.101"

	"OnTrigger" "ex5_music_textSetTextBrace yourself for the grand finale242.001"
	"OnTrigger" "ex5_music_text2SetText为命运的终章揭开帷幕！！！242.001"
	"OnTrigger" "ex5_music_text*Display242.101"
}

add:
{
	"origin" "-5701.34 -723.98 -15159.98"
	"targetname" "stage_10_top_1_relay"
	"StartDisabled" "1"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "ex5_music_textSetText歌曲——Witchcraft Vs Watercolour0.001"
	"OnTrigger" "ex5_music_text2SetText歌手——Pendulum0.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 60.051"
	"OnTrigger" "ex5_music_text*Display0.101"

	"OnTrigger" "ex5_music_textSetTextIt's in your eyes a color fade-out6.001"
	"OnTrigger" "ex5_music_text2SetText如你所见 光芒渐渐暗淡6.001"
	"OnTrigger" "ex5_music_text*Display6.101"

	"OnTrigger" "ex5_music_textSetTextLooks like a new transition12.001"
	"OnTrigger" "ex5_music_text2SetText但却像是过渡到新的境界12.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 512.051"
	"OnTrigger" "ex5_music_text*Display12.101"

	"OnTrigger" "ex5_music_textSetTextIs starting up and shaking your ground17.001"
	"OnTrigger" "ex5_music_text2SetText如今开启 便撼动天地17.001"
	"OnTrigger" "ex5_music_text*Display17.101"

	"OnTrigger" "ex5_music_textSetTextTurning your head to see a new day calling22.001"
	"OnTrigger" "ex5_music_text2SetText抬头眺望全新一天的呼唤吧22.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 722.051"
	"OnTrigger" "ex5_music_text*Display22.101"

	"OnTrigger" "ex5_music_textSetTextDoes it feel like a head to lean on29.001"
	"OnTrigger" "ex5_music_text2SetText宛如一个安全可靠的臂膀29.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 629.051"
	"OnTrigger" "ex5_music_text*Display29.101"

	"OnTrigger" "ex5_music_textSetTextA snapshot from where you were born35.001"
	"OnTrigger" "ex5_music_text2SetText亦或是你诞生之时的照片35.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 535.051"
	"OnTrigger" "ex5_music_text*Display35.101"

	"OnTrigger" "ex5_music_textSetTextI'm looking for your hand in the rough40.001"
	"OnTrigger" "ex5_music_text2SetText我正在混沌的世界中寻找你的身影40.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 440.051"
	"OnTrigger" "ex5_music_text*Display40.101"

	"OnTrigger" "ex5_music_textSetTextYou're caught in the wire44.001"
	"OnTrigger" "ex5_music_text2SetText而你已被困住44.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 344.051"
	"OnTrigger" "ex5_music_text*Display44.101"

	"OnTrigger" "ex5_music_textSetTextWell I'll lift you out47.001"
	"OnTrigger" "ex5_music_text2SetText不过没关系 我会救你出去！47.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 447.051"
	"OnTrigger" "ex5_music_text*Display47.101"

	"OnTrigger" "ex5_music_textSetTextWhen I'm falling down51.001"
	"OnTrigger" "ex5_music_text2SetText当我坠落绝望深渊51.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 551.051"
	"OnTrigger" "ex5_music_text*Display56.101"

	"OnTrigger" "ex5_music_textSetTextWill you pick me up again56.001"
	"OnTrigger" "ex5_music_text2SetText你是否会让我重新振作56.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 656.051"
	"OnTrigger" "ex5_music_text*Display51.101"

	"OnTrigger" "ex5_music_textSetTextWhen I'm too far gone62.001"
	"OnTrigger" "ex5_music_text2SetText当我完全迷失自我62.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 562.051"
	"OnTrigger" "ex5_music_text*Display62.101"

	"OnTrigger" "ex5_music_textSetTextDead in the eyes of my friends67.001"
	"OnTrigger" "ex5_music_text2SetText消逝于人们的视线之外67.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 667.051"
	"OnTrigger" "ex5_music_text*Display67.101"

	"OnTrigger" "ex5_music_textSetTextWill you take me out of here73.001"
	"OnTrigger" "ex5_music_text2SetText你是否会带我逃离其中73.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 273.051"
	"OnTrigger" "ex5_music_text*Display73.101"

	"OnTrigger" "ex5_music_textSetTextWhen I'm staring down the barrel75.001"
	"OnTrigger" "ex5_music_text2SetText当我直面绝境75.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 375.051"
	"OnTrigger" "ex5_music_text*Display75.101"

	"OnTrigger" "ex5_music_textSetTextWhen I'm blinded by the lights78.001"
	"OnTrigger" "ex5_music_text2SetText刺眼的光蒙蔽了我的双眼78.001"
	"OnTrigger" "ex5_music_text*Display78.101"

	"OnTrigger" "ex5_music_textSetTextWhen I cannot see your face81.001"
	"OnTrigger" "ex5_music_text2SetText当我看不见你的脸庞81.001"
	"OnTrigger" "ex5_music_text*Display81.101"

	"OnTrigger" "ex5_music_textSetTextTake me out of here84.001"
	"OnTrigger" "ex5_music_text2SetText带我逃离这里！84.001"
	"OnTrigger" "ex5_music_text*Display84.101"

	"OnTrigger" "ex5_music_textSetTextTake me out of here87.001"
	"OnTrigger" "ex5_music_text2SetText带我逃离这里！87.001"
	"OnTrigger" "ex5_music_text*Display87.101"

	"OnTrigger" "ex5_music_textSetTextTake me out of here90.001"
	"OnTrigger" "ex5_music_text2SetText带我逃离这里！90.001"
	"OnTrigger" "ex5_music_text*Display90.101"

	"OnTrigger" "ex5_music_textSetTextTake me out of here93.001"
	"OnTrigger" "ex5_music_text2SetText带我逃离这里！93.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 193.051"
	"OnTrigger" "ex5_music_text*Display93.101"

	"OnTrigger" "ex5_music_textSetTextLeaning on the action94.001"
	"OnTrigger" "ex5_music_text2SetText战斗毫不停息94.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 394.051"
	"OnTrigger" "ex5_music_text*Display94.101"

	"OnTrigger" "ex5_music_textSetTextCaught in a cellphone's rays97.001"
	"OnTrigger" "ex5_music_text2SetText尸潮正包围着一切97.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 297.051"
	"OnTrigger" "ex5_music_text*Display97.101"

	"OnTrigger" "ex5_music_textSetTextBleeding on the sofa99.001"
	"OnTrigger" "ex5_music_text2SetText惬意的浪费着生命99.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 299.051"
	"OnTrigger" "ex5_music_text*Display99.101"

	"OnTrigger" "ex5_music_textSetTextStaring at the wayside102.001"
	"OnTrigger" "ex5_music_text2SetText凝视着那角落102.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2102.051"
	"OnTrigger" "ex5_music_text*Display102.101"

	"OnTrigger" "ex5_music_textSetTextHe's coming and she knows it104.001"
	"OnTrigger" "ex5_music_text2SetText或许早已料到死神正在降临104.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 4104.051"
	"OnTrigger" "ex5_music_text*Display104.101"

	"OnTrigger" "ex5_music_textSetTextEven if she knows why108.001"
	"OnTrigger" "ex5_music_text2SetText但却不要心存恐惧108.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2108.051"
	"OnTrigger" "ex5_music_text*Display108.101"

	"OnTrigger" "ex5_music_textSetTextFootsteps in the hallway110.001"
	"OnTrigger" "ex5_music_text2SetText尸潮的脚步源源不断110.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2110.051"
	"OnTrigger" "ex5_music_text*Display110.101"

	"OnTrigger" "ex5_music_textSetTextGirl you haven't got time113.001"
	"OnTrigger" "ex5_music_text2SetText不过命运正迎来清算！113.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2113.051"
	"OnTrigger" "ex5_music_text*Display113.101"

	"OnTrigger" "ex5_music_textSetTextAll I believe115.001"
	"OnTrigger" "ex5_music_text2SetText我的信仰115.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 3115.051"
	"OnTrigger" "ex5_music_text*Display115.101"

	"OnTrigger" "ex5_music_textSetTextAnd all I've known118.001"
	"OnTrigger" "ex5_music_text2SetText我的认知118.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2118.051"
	"OnTrigger" "ex5_music_text*Display118.101"

	"OnTrigger" "ex5_music_textSetTextAre being taken from me120.001"
	"OnTrigger" "ex5_music_text2SetText都已抽离于我120.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 4120.051"
	"OnTrigger" "ex5_music_text*Display120.101"

	"OnTrigger" "ex5_music_textSetTextCan't get home124.001"
	"OnTrigger" "ex5_music_text2SetText无法重回家园124.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2124.051"
	"OnTrigger" "ex5_music_text*Display124.101"

	"OnTrigger" "ex5_music_textSetTextLed to a world126.001"
	"OnTrigger" "ex5_music_text2SetText只得走向126.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 3126.051"
	"OnTrigger" "ex5_music_text*Display126.101"

	"OnTrigger" "ex5_music_textSetTextWhere worlds collide129.001"
	"OnTrigger" "ex5_music_text2SetText纷乱的世界129.001"
	"OnTrigger" "ex5_music_text*Display129.101"

	"OnTrigger" "ex5_music_textSetTextLet the fear collapse bring no surprise132.001"
	"OnTrigger" "ex5_music_text2SetText不给恐惧和崩溃留有机会132.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 5132.051"
	"OnTrigger" "ex5_music_text*Display132.101"

	"OnTrigger" "ex5_music_textSetTextTake me out of here137.001"
	"OnTrigger" "ex5_music_text2SetText带我逃离这里137.001"
	"OnTrigger" "ex5_music_text*Display137.101"

	"OnTrigger" "ex5_music_textSetTextFeed the fire break your vision159.001"
	"OnTrigger" "ex5_music_text2SetText点燃烈焰 挣脱禁锢！159.001"
	"OnTrigger" "ex5_music_text*AddOutputholdtime 2159.051"
	"OnTrigger" "ex5_music_text*Display159.101"

	"OnTrigger" "ex5_music_textSetTextThrow your fists up come on with me161.001"
	"OnTrigger" "ex5_music_text2SetText随我一起 奋起反抗！161.001"
	"OnTrigger" "ex5_music_text*Display161.101"
}

modify:
{
	match:
	{
		"targetname" "Music_Selector_Ex"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase11" "stage_10_start_relayTrigger0.21"
		"OnCase11" "stage_10_top_1_relayEnable0.21"
	}
}

modify:
{
	match:
	{
		"targetname" "stage_5_button_filter"
		"classname" "filter_activator_team"
	}
	insert:
	{
		"OnPass" "stage_10_start_relayCancelPending6.201"
		"OnPass" "stage_10_top_1_relayTrigger11.11"
		"OnPass" "ex5_music_textSetText 6.001"
		"OnPass" "ex5_music_textDisplay6.101"
		"OnPass" "ex5_music_text2SetText 6.001"
		"OnPass" "ex5_music_text2Display6.101"
		"OnPass" "stage_10_start_relaykill7.101"
	}
}

modify:
{
	match:
	{
		"targetname" "stage_5_top_relay_core_working"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "ex5_music_textSetText 1.001"
		"OnTrigger" "ex5_music_textDisplay1.101"
		"OnTrigger" "ex5_music_text2SetText 1.001"
		"OnTrigger" "ex5_music_text2Display1.101"
		"OnTrigger" "stage_10_top_1_relayCancelPending7.00-1"
		"OnTrigger" "stage_10_top_1_relaykill7.10-1"
	}
}

;ex4歌词
modify:
{
	match:
	{
		"hammerid" "9345860"
	}
	insert:
	{
		"OnCase10" "music_master_ambient_ex4_relayEnable0.11"
		"OnCase10" "music_master_ambient_ex4_relayTrigger0.21"
	}
}

add:
{
	"origin" "-5701.34 -723.98 -15159.98"
	"targetname" "music_master_ambient_ex4_relay"
	"StartDisabled" "1"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "ex5_music_textSetText歌曲——The Catalyst0.001"
	"OnTrigger" "ex5_music_text2SetText歌手——Pendulum0.001"
	"OnTrigger" "ex5_music_text*Display0.101"

	"OnTrigger" "ex5_music_textSetTextLike memories in cold decay2.501"
	"OnTrigger" "ex5_music_text2SetText就如那些在严寒中消逝的回忆2.501"
	"OnTrigger" "ex5_music_text*Display2.601"

	"OnTrigger" "ex5_music_textSetTextTransmissions echoing away5.001"
	"OnTrigger" "ex5_music_text2SetText不断飘散远远回荡5.001"
	"OnTrigger" "ex5_music_text*Display5.101"

	"OnTrigger" "ex5_music_textSetTextFar from the world of you and I7.501"
	"OnTrigger" "ex5_music_text2SetText仿若背弃世界的你我7.501"
	"OnTrigger" "ex5_music_text*Display7.601"

	"OnTrigger" "ex5_music_textSetTextWhere oceans bleed into the sky11.001"
	"OnTrigger" "ex5_music_text2SetText就在那海洋逆流怒号耸入天空之处11.001"
	"OnTrigger" "ex5_music_text*Display11.101"

	"OnTrigger" "ex5_music_textSetTextGod save us everyone41.001"
	"OnTrigger" "ex5_music_text2SetText天道救赎世人41.001"
	"OnTrigger" "ex5_music_text*Display41.101"

	"OnTrigger" "ex5_music_textSetTextWill we burn inside the fires of a thousand suns43.001"
	"OnTrigger" "ex5_music_text2SetText是否我们将在九天烈阳之下燃烧殆尽43.001"
	"OnTrigger" "ex5_music_text*Display43.101"

	"OnTrigger" "ex5_music_textSetTextFor the sins of our hands46.001"
	"OnTrigger" "ex5_music_text2SetText只因我们手中侵染的血腥46.001"
	"OnTrigger" "ex5_music_text*Display46.101"

	"OnTrigger" "ex5_music_textSetTextThe sins of our tongue47.001"
	"OnTrigger" "ex5_music_text2SetText口中道出的罪孽47.001"
	"OnTrigger" "ex5_music_text*Display47.101"

	"OnTrigger" "ex5_music_textSetTextThe sins of our fathers48.001"
	"OnTrigger" "ex5_music_text2SetText先祖遗留的原罪48.001"
	"OnTrigger" "ex5_music_text*Display48.101"

	"OnTrigger" "ex5_music_textSetTextThe sins of our young49.001"
	"OnTrigger" "ex5_music_text2SetText后代所犯的罪行49.001"
	"OnTrigger" "ex5_music_text*Display49.101"

	"OnTrigger" "ex5_music_textSetTextNo51.001"
	"OnTrigger" "ex5_music_text2SetText不!51.001"
	"OnTrigger" "ex5_music_text*Display51.101"

	"OnTrigger" "ex5_music_textSetTextGod save us everyone52.001"
	"OnTrigger" "ex5_music_text2SetText天道救赎世人52.001"
	"OnTrigger" "ex5_music_text*Display52.101"

	"OnTrigger" "ex5_music_textSetTextWill we burn inside the fires of a thousand suns54.001"
	"OnTrigger" "ex5_music_text2SetText是否我们将在九天烈阳之下燃烧殆尽54.001"
	"OnTrigger" "ex5_music_text*Display54.101"

	"OnTrigger" "ex5_music_textSetTextFor the sins of our hands57.001"
	"OnTrigger" "ex5_music_text2SetText只因我们手中侵染的血腥57.001"
	"OnTrigger" "ex5_music_text*Display57.101"

	"OnTrigger" "ex5_music_textSetTextThe sins of our tongue58.001"
	"OnTrigger" "ex5_music_text2SetText口中道出的罪孽58.001"
	"OnTrigger" "ex5_music_text*Display58.101"

	"OnTrigger" "ex5_music_textSetTextThe sins of our fathers59.001"
	"OnTrigger" "ex5_music_text2SetText先祖遗留的原罪59.001"
	"OnTrigger" "ex5_music_text*Display59.101"

	"OnTrigger" "ex5_music_textSetTextThe sins of our young61.001"
	"OnTrigger" "ex5_music_text2SetText后代所犯的罪行61.001"
	"OnTrigger" "ex5_music_text*Display61.101"

	"OnTrigger" "ex5_music_textSetTextNo63.001"
	"OnTrigger" "ex5_music_text2SetText不!63.001"
	"OnTrigger" "ex5_music_text*Display63.101"

	"OnTrigger" "ex5_music_textSetTextAnd when I close my eyes tonight64.001"
	"OnTrigger" "ex5_music_text2SetText今夜当我紧闭双眼64.001"
	"OnTrigger" "ex5_music_text*Display64.101"

	"OnTrigger" "ex5_music_textSetTextTo symphonies of blinding light66.001"
	"OnTrigger" "ex5_music_text2SetText炫目的光线如交响乐般来回映射66.001"
	"OnTrigger" "ex5_music_text*Display66.101"

	"OnTrigger" "ex5_music_textSetTextLike memories in cold decay74.501"
	"OnTrigger" "ex5_music_text2SetText就如那些在严寒中消逝的回忆74.501"
	"OnTrigger" "ex5_music_text*Display74.601"

	"OnTrigger" "ex5_music_textSetTextTransmissions echoing away77.001"
	"OnTrigger" "ex5_music_text2SetText不断飘散远远回荡77.001"
	"OnTrigger" "ex5_music_text*Display77.101"

	"OnTrigger" "ex5_music_textSetTextFar from the world of you and I80.001"
	"OnTrigger" "ex5_music_text2SetText仿若背弃世界的你我80.001"
	"OnTrigger" "ex5_music_text*Display80.101"

	"OnTrigger" "ex5_music_textSetTextWhere oceans bleed into the sky83.001"
	"OnTrigger" "ex5_music_text2SetText就在那海洋逆流怒号耸入天空之处83.001"
	"OnTrigger" "ex5_music_text*Display83.101"

	"OnTrigger" "ex5_music_textSetTextLike memories in cold decay107.001"
	"OnTrigger" "ex5_music_text2SetText就如那些在严寒中消逝的回忆107.001"
	"OnTrigger" "ex5_music_text*Display107.101"

	"OnTrigger" "ex5_music_textSetTextTransmissions echoing away110.001"
	"OnTrigger" "ex5_music_text2SetText不断飘散远远回荡110.001"
	"OnTrigger" "ex5_music_text*Display110.101"

	"OnTrigger" "ex5_music_textSetTextFar from the world of you and I113.001"
	"OnTrigger" "ex5_music_text2SetText仿若背弃世界的你我113.001"
	"OnTrigger" "ex5_music_text*Display113.101"

	"OnTrigger" "ex5_music_textSetTextWhere oceans bleed into the sky116.001"
	"OnTrigger" "ex5_music_text2SetText就在那海洋逆流怒号耸入天空之处116.001"
	"OnTrigger" "ex5_music_text*Display116.101"

	"OnTrigger" "ex5_music_textSetTextLift me up130.001"
	"OnTrigger" "ex5_music_text2SetText我将升华!130.001"
	"OnTrigger" "ex5_music_text*Display130.101"

	"OnTrigger" "ex5_music_textSetTextLet me go133.501"
	"OnTrigger" "ex5_music_text2SetText让我飞升!133.501"
	"OnTrigger" "ex5_music_text*Display133.601"

	"OnTrigger" "ex5_music_textSetTextLift me up! Let me go!136.501"
	"OnTrigger" "ex5_music_text2SetText我将升华! 让我飞升!136.501"
	"OnTrigger" "ex5_music_text*Display136.601"
}

;蓝结局平衡全体地速为1
modify:
{
	match:
	{
		"hammerid" "5157360"
		"targetname" "stage_5_core_end_button"
	}
	insert:
	{
		"OnStartTouch" "Global_SpeedModifySpeed151"
		"OnStartTouch" "Global_SpeedModifySpeed118.51"
	}
	delete:
	{
		"OnStartTouch" "Global_SpeedModifySpeed1.118.51"
		"OnStartTouch" "Global_SpeedModifySpeed1.151"
	}
}
modify:
{
	match:
	{
		"targetname" "stage_5_core_column_end_button_blue"
	}
	insert:
	{
		"OnUser1" "stage_5_lower_teleportenable01"
		"OnUser1" "stage_5_lower_teleportdisable31"
		"OnUser1" "Global_SpeedModifySpeed0.9951"
		"OnUser1" "Global_SpeedModifySpeed0.9961"
		"OnUser1" "Global_SpeedModifySpeed0.9971"
		"OnUser1" "Global_SpeedModifySpeed0.9981"
		"OnUser1" "Global_SpeedModifySpeed0.9991"
		"OnUser1" "Global_SpeedModifySpeed0.99101"
		"OnUser1" "Global_SpeedModifySpeed0.99111"
		"OnUser1" "Global_SpeedModifySpeed0.99121"
		"OnUser1" "Global_SpeedModifySpeed0.99131"
		"OnUser1" "Global_SpeedModifySpeed0.99141"
		"OnUser1" "Global_SpeedModifySpeed0.99151"
	}
}

;尸变时间
modify:
{
	match:
	{
		"hammerid" "13113618"
	}
	insert:
	{
		"OnTrigger" "consoleCommandzr_infect_spawntime_max 151-1"
		"OnTrigger" "consoleCommandzr_infect_spawntime_min 151-1"
	}
}
modify:
{
	match:
	{
		"hammerid" "13113612"
	}
	insert:
	{
		"OnTrigger" "consoleCommandzr_infect_spawntime_max 151-1"
		"OnTrigger" "consoleCommandzr_infect_spawntime_min 151-1"
	}
}

;机甲teamwin不死
modify:
{
	match:
	{
		"hammerid" "7667513"
	}
	delete:
	{
		"OnTrigger" "Human_Item_Mech_BodyBreak0.011"
	}
}

//第四关、第五关救援结局增加僵尸检测，检测到僵尸时处死人类
add:
{
	"model" "*78"
	"classname" "trigger_multiple"
	"filtername" "team_filter_zombies"
	"origin" "3464 -11032 -12660"
	"parentname" "stage_x_cargo_heli_track_train"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "stage_end_zombie_check"
	"wait" "1"
	"OnStartTouch" "Global_GameText_Announcement,FireUser3,,,1"
	"OnStartTouch" "Global_GameText_Announcement,AddOutput,message ** 休想逃出我们的手掌心！ **,,1"
	"OnStartTouch" "Nuke_Kill_human,Trigger,,0,1"
	"OnStartTouch" "stage_end_explosion_working,kill,,0,1"
}

//不会触发通关的核爆
add:
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "Nuke_Kill_human"
	"OnTrigger" "Global_Sound_NukeFireUser101"
	"OnTrigger" "spawn_explosion_nuke_particleFireUser101"
	"OnTrigger" "Human_Item_Mech_CamDisable01"
	"OnTrigger" "Human_Item_Mech_BodyBreak0.011"
	"OnTrigger" "wpn_jugger_physBreak0.011"
	"OnTrigger" "stage_nuke_inmuzer*kill01"
	"OnTrigger" "v_button1Kill01"
	"OnTrigger" "v_cam1Disable01"
	"OnTrigger" "Nuke_Kill_human_triggerEnable21"
	"OnTrigger" "Fix_IssueForceSpawn0.51"
}
add:
{
	"model" "*570"
	"classname" "trigger_hurt"
	"damage" "999999"
	"damagecap" "20"
	"damagemodel" "0"
	"damagetype" "0"
	"filtername" "team_filter_humans"
	"nodmgforce" "0"
	"origin" "0 0 0"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "Nuke_Kill_human_trigger"
}

//第四关第五关，离开直升机失去免核爆
modify:
{
	match:
	{
		"targetname" "stage_nuke_inmuzer2"
	}
	insert:
	{
		"OnEndTouch" "!activatorAddOutputtargetname 0-1"
	}
}
modify:
{
	match:
	{
		"targetname" "stage_nuke_inmuzer3"
	}
	insert:
	{
		"OnEndTouch" "!activatorAddOutputtargetname 0-1"
	}
}
modify:
{
	match:
	{
		"targetname" "stage_end_explosion_working"
	}
	delete:
	{
		"OnTrigger" "stage_nuke_inmuzer*Disable0.51"
	}
}

//修复第五关直升机弹药效果
modify:
{
	match:
	{
		"classname" "path_track"
		"targetname" "stage_x_black_hawk_3"
	}
	insert:
	{
		"OnPass" "Vehicle_BlackHawk_AmmoFireUser101"
	}
}

;魔改炮台为摇头炮台
add:
{
	"classname" "func_rotating"
	"angles" "0 0 0"
	"forceclosed" "1"
	"origin" "-1440 12384 -8528"
	"rendermode" "10"
	"solidbsp" "1"
	"spawnflags" "64"
	"speed" "60"
	"targetname" "Weapon_Turret_Rot"
	"parentname" "Weapon_Turret_Deployed_Breakable"
	"onnection" "nnection"
	"OnUser1" "!selfStart01"
	"OnUser1" "!selfReverse0.451"
	"OnUser1" "!selfFireUser20.451"
	"OnUser2" "!selfReverse0.9-1"
	"OnUser2" "!selfFireUser20.9-1"
}
modify:
{
	match:
	{
		"targetname" "Weapons_Turret_Model_Deployed"
		"classname" "prop_dynamic"
	}
	insert:
	{
		"OnUser1" "Weapon_Turret_RotKill0-1"
	}
	delete:
	{
		"OnAnimationDone" "Weapon_Turret_Deployed_DevBrushSetParentAttachmentMaintainOffsetturret0-1"
		"OnUser1" "!selfKill0-1"
	}
	replace:
	{
		"solid" "0"
		"parentname" "Weapon_Turret_Rot"
	}
}
modify:
{
	match:
	{
		"targetname" "Weapon_Turret_Deployed_Logic"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnSpawn" "Weapon_Turret_Deployed_BreakableRunscriptCodeself.SetAngles(0,self.GetAngles().y,0)1.0-1"
		"OnSpawn" "Weapon_Turret_RotFireUser11-1"
	}
	delete:
	{
		"OnSpawn" "Weapons_Turret_Model_DeployedClearParent1-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Weapon_Turret_Deployed_Breakable"
		"classname" "func_physbox_multiplayer"
	}
	insert:
	{
		"OnBreak" "Weapons_Turret_Model_DeployedClearParent0-1"
		"OnBreak" "Weapon_Turret_RotKill0.1-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Weapon_Turret_Deployed_Template"
		"classname" "point_template"
	}
	insert:
	{
		"Template01" "Weapon_Turret_Rot"
	}
}

;tank拾取后为10w血
modify:
{
	match:
	{
		"classname" "weapon_knife"
		"targetname" "Zombie_Item_Tank_Knife"
	}
	insert:
	{
		"OnPlayerPickup" "!activatorAddOutputhealth 1000000-1"
	}
	delete:
	{
		"OnPlayerPickup" "!activatorAddOutputhealth 70000-1"
	}
}

;降低炮台伤害
modify:
{
	match:
	{
		"classname" "trigger_hurt"
		"targetname" "Weapon_Turret_Deployed_DevBrush"
	}
	replace:
	{
		"damage" "1000"
	}
}

;加特林重置地速删除
modify:
{
	match:
	{
		"classname" "logic_branch"
		"targetname" "Weapon_Mounted_Gun_Toggle"
	}
	delete:
	{
		"OnFalse" "Global_SpeedModifySpeed0.750-1"
		"OnTrue" "Global_SpeedModifySpeed10-1"
	}
}

//显示基因包的效果提示
modify:
{
	match:
	{
		"targetname" "Weapon_Mutator_Projectile_Case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase03" "consolecommandsay 基因改造：你是跳高冠军！ 0-1"
		"OnCase03" "!activatorAddOutputgravity 0.750-1"
		"OnCase05" "consolecommandsay 基因改造：你成为了田径运动员！ 0-1"
		"OnCase05" "Global_SpeedModifySpeed1.350-1"
		"OnCase06" "consolecommandsay 基因改造：你变成了蜗牛…… 0-1"
		"OnCase06" "Global_SpeedModifySpeed0.50-1"
		"OnCase11" "consolecommandsay 基因改造：你是新的人造tank！ 0-1"
		"OnCase12" "consolecommandsay 基因改造：你变得衰弱…… 0-1"
		"OnCase13" "consolecommandsay 基因改造：你似乎起跳很吃力…… 0-1"
		"OnCase13" "!activatorAddOutputgravity 20-1"
		"OnCase16" "consolecommandsay 基因改造：你失去了跳跃的能力…… 0-1"
		"OnCase16" "!activatorAddOutputgravity 50-1"
		"OnCase01" "consolecommandsay 基因改造：你暂时失去了你的双腿…… 0-1"
		"OnCase01" "Global_SpeedModifySpeed0.010-1"
		"OnCase01" "Global_SpeedModifySpeed0.335-1"
		"OnCase01" "Global_SpeedModifySpeed0.6610-1"
		"OnCase01" "Global_SpeedModifySpeed115-1"
		"OnCase02" "consolecommandsay 基因改造：超越极限！ 0-1"
		"OnCase02" "Global_SpeedModifySpeed30-1"
		"OnCase02" "Global_SpeedModifySpeed115-1"
		"OnCase10" "consolecommandsay 基因改造：健步如飞！ 0-1"
		"OnCase14" "consolecommandsay 基因改造：你是LMS精英！ 0-1"
		"OnCase04" "consolecommandsay 基因改造：你是小绿人！ 0-1"
		"OnCase07" "consolecommandsay 基因改造：你获得了僵尸病毒的疫苗！ 0-1"
		"OnCase07" "!activatorSetDamageFilterfilter_no_zombies0-1"
		"OnCase07" "!activatorSetDamageFilter60-1"
		"OnCase08" "consolecommandsay 基因改造：消隐无踪~！ 0-1"
		"OnCase09" "consolecommandsay 基因改造失败，你死了 0-1"
		"OnCase09" "!activatorSethealth00-1"
		"OnCase15" "consolecommandsay 基因改造：爆炸似乎对你不起作用？ 0-1"
	}
	delete:
	{
		"OnCase03" "!activatorAddOutputgravity 0.80-1"
		"OnCase05" "Global_SpeedModifySpeed1.250-1"
		"OnCase06" "Global_SpeedModifySpeed0.80-1"
		"OnCase07" "!activatorAddOutputrenderfx 170-1"
		"OnCase09" "!activatorSetDamageFilterfilter_no_fall_damage0-1"
		"OnCase13" "!activatorAddOutputgravity 1.10-1"
		"OnCase16" "!activatorAddOutputgravity 20-1"
		"OnCase01" "Global_SpeedModifySpeed0.900-1"
		"OnCase02" "Global_SpeedModifySpeed1.100-1"
		"OnCase09" "!activatorAddOutputOnUser4 !self:SetDamageFilter:filter_no_fall_damage:0.01:10-1"
		"OnCase09" "!activatorAddOutputOnUser4 fix_damage_filter_mutator:FireUser1::0:10-1"
	}
}

// 处理打死铁血定身的问题
modify:
{
	match:
	{
		"targetname" "Zombie_Item_Predator_Health"
		"classname" "func_physbox_multiplayer"
	}
	delete:
	{
		"OnBreak" "zombie_predatorAddOutputOnUser4 Global_Speed:ModifySpeed:0:0:10-1"
	}
}

//fix game_player_equip missing "use only" flag
modify:
{
	match:
	{
		"classname" "game_player_equip"
		"targetname" "game_player_equip"
	}
	replace:
	{
		"spawnflags" "1"
	}
}

;降低机甲机枪声音
modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Human_Item_Mech_Sound_Minigun"
	}
	replace:
	{
		"health" "3"
	}
}

//防止机枪推人
modify:
{
	match:
	{
		"targetname" "Weapon_Mounted_Gun_Push"
	}
	replace:
	{
		"filtername" "team_filter_zombies"
	}
}

//热身关防止恶意尸变拿A哥
modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "stage_0_trigger_detect_zombification"
	}
	delete:
	{
		"OnStartTouch" "!activatorAddOutputorigin 1592 3912 2110.20-1"
		"OnStartTouch" "Global_Weapon_StripStripWeaponsAndSuit0-1"
	}
	insert:
	{
		"OnTrigger" "!activatorAddOutputorigin 1592 3912 2110.201"
		"OnTrigger" "Global_Weapon_StripStripWeaponsAndSuit01"
	}
}

modify:
{
	match:
	{
		"targetname" "stage_0_Trigger_Start"
	}
	delete:
	{
		"OnTrigger" "stage_0_trigger_detect_zombificationEnable25-1"
	}
	insert:
	{
		"OnTrigger" "stage_0_trigger_detect_zombificationEnable15-1"
	}
}

//增加热身关EX开投票
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Stage_Start_Stage_0"
	}
	delete:
	{
		"OnTrigger" "Extreme_Stage_0Enable0-1"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsm_cvar zr_infect_mzombie_ratio 6451"
		"OnTrigger" "Extreme_Stage_0disable0-1"
		"OnTrigger" "EX_voteenable0-1"
		"OnTrigger" "stage_x_doordisable11"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Difficulty_Extreme"
	}
	insert:
	{
		"OnTrigger" "EX_votedisable11"
		"OnTrigger" "stage_x_doorenable11"
	}
}
add:
{
	"classname" "trigger_multiple"
	"origin" "4556 3904 1896"
	"spawnflags" "1"
	"StartDisabled" "1"
	"vscripts" "ze_last_man_standing_p2/EX_vote.nut"
	"targetname" "EX_vote"
	"wait" "1"
	"OnStartTouch" "EX_voteRunScriptCodeAdd()0-1"
	"OnEndTouch" "EX_voteRunScriptCodeSub()0-1"
}
modify:
{
	match:
	{
		"classname" "logic_auto"
	}
	insert:
	{
		"OnNewGame" "EX_voteaddoutputmins -540 -240 -9001"
		"OnNewGame" "EX_voteaddoutputmaxs 540 240 9001"
		"OnNewGame" "EX_voteaddoutputsolid 20.21"
	}
}
add:
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "ex_vote_relay"
	"OnTrigger" "Stage_End_Stage_5Trigger0-1"
	"OnTrigger" "Nuke_Kill_humantrigger01"
}

//非热身关关闭投票门
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "stage_3_corridor_button_8"
	}
	insert:
	{
		"OnPressed" "stage_x_doordisable0-1"
	}
}

//EX关修改尸变比为3:1
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Extreme_Stage_1"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsm_cvar zr_infect_mzombie_ratio 451"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Extreme_Stage_2"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsm_cvar zr_infect_mzombie_ratio 451"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Extreme_Stage_3"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsm_cvar zr_infect_mzombie_ratio 551"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Extreme_Stage_4"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsm_cvar zr_infect_mzombie_ratio 451"
	}
}

//修改坦克炮弹、油桶、轰炸的伤害类型，使基因包的免疫爆炸伤害生效
modify:
{
	match:
	{
		"hammerid" "7665762"
	}
	replace:
	{
		"damagetype" "64"
	}
}
modify:
{
	match:
	{
		"hammerid" "7666176"
	}
	replace:
	{
		"damagetype" "64"
	}
}

//重写蚁狮逻辑，删除蚁狮免抓，降低蚁狮移速
filter:
{
	"hammerid" "7669053"
}
filter:
{
	"hammerid" "7666450"
}
modify:
{
	match:
	{
		"hammerid" "7666431"
	}
	delete:
	{
		"OnEqualTo" "Global_SpeedModifySpeed00-1"
		"OnEqualTo" "Global_SpeedModifySpeed1.151.25-1"
		"OnEqualTo" "Global_SpeedModifySpeed1.1510-1"
		"OnEqualTo" "Global_SpeedModifySpeed09-1"
		"OnEqualTo" "Zombie_Item_Antlion_Block_BrushEnable0-1"
		"OnEqualTo" "Zombie_Item_Antlion_Block_BrushDisable9-1"
	}
	insert:
	{
		"OnEqualTo" "Global_Speed_suppressModifySpeed00-1"
		"OnEqualTo" "Global_SpeedModifySpeed0.81.25-1"
		"OnEqualTo" "Global_SpeedModifySpeed09-1"
		"OnEqualTo" "Global_SpeedModifySpeed1.1510.25-1"
		"OnEqualTo" "Global_Speed_suppressModifySpeed111.5-1"
		"OnEqualTo" "Global_SpeedModifySpeed1.1511.51-1"
	}
}

//火车司机持有者加速
modify:
{
	match:
	{
		"targetname" "NPC_Train_Driver_Weapon_Slower"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnTrigger" "Global_SpeedModifySpeed10.95-1"
		"OnTrigger" "Global_SpeedModifySpeed0.80-1"
	}
	insert:
	{
		"OnTrigger" "Global_SpeedModifySpeed10.95-1"
		"OnTrigger" "Global_SpeedModifySpeed1.150-1"
	}
}

//修复铁血隐身冲突
modify:
{
	match:
	{
		"targetname" "Zombie_Item_Predator_Invisible"
	}
	delete:
	{
		"OnEqualTo" "Zombie_Item_Predator_ModelSkin016-1"
	}
	insert:
	{
		"OnEqualTo" "Zombie_Item_Predator_EnergySubtract10-1"
		"OnLessThan" "Zombie_Item_Predator_Energyadd10-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Zombie_Item_Predator_Energy"
	}
	replace:
	{
		"max" "17"
	}
	insert:
	{
		"OnHitMin" "Zombie_Item_Predator_ModelSkin00-1"
	}
}

//修改坦克血量机制，永久血量
modify:
{
	match:
	{
		"targetname" "tank_who_entered"
	}
	delete:
	{
		"OnFail" "human_item_tank_health_drivverSetValue3200-1"
		"OnPass" "human_item_tank_health_drivverSetValue120-1"
	}
	insert:
	{
		"OnFail" "tank_hp_zombieEnable0-1"
		"OnPass" "tank_hp_humanEnable0-1"
		"OnPass" "tank_hp_humanAdd10.1-1"
		"OnPass" "tank_hp_humanSubtract10.2-1"
	}
}
modify:
{
	match:
	{
	"targetname" "v_model1"
	}
	delete:
	{
		"OnHealthChanged" "human_item_tank_health_drivverSubtract10-1"
	}
	insert:
	{
		"OnHealthChanged" "tank_hp_*Subtract10-1"
	}
}
modify:
{
	match:
	{
		"targetname" "v_ui1"
	}
	insert:
	{
		"PlayerOff" "tank_hp_*disable0-1"
	}
}
add:
{
	"classname" "math_counter"
	"max" "13"
	"min" "0"
	"StartDisabled" "1"
	"startvalue" "12"
	"targetname" "tank_hp_human"
	"OnHitMin" "human_item_tank_health_drivverSubtract10000-1"
}
add:
{
	"classname" "math_counter"
	"max" "500"
	"min" "0"
	"StartDisabled" "1"
	"startvalue" "320"
	"targetname" "tank_hp_zombie"
	"OnHitMin" "human_item_tank_health_drivverSubtract10000-1"
}

//修改士兵机制，可用来为坦克增加血量
add:
{
	"model" "*438"
	"classname" "trigger_multiple"
	"filtername" "filter_tank"
	"origin" "-256 10752 -8528"
	"parentname" "NPC_Soldier_Body"
	"spawnflags" "8"
	"StartDisabled" "0"
	"targetname" "tank_fornpchelp"
	"wait" "1"
	"OnStartTouch" "NPC_Soldier_BodyBreak0-1"
	"OnStartTouch" "tank_hp_humanadd50-1"
	"OnStartTouch" "tank_hp_zombieadd500-1"
}
modify:
{
	match:
	{
		"targetname" "NPC_Soldier_Template"
	}
	insert:
	{
		"Template11" "tank_fornpchelp"
	}
}

//地图实体优化
modify:
{
	match:
	{
		"DisableBoneFollowers" "0"
	}
	replace:
	{
		"DisableBoneFollowers" "1"
	}
}

//增加铁血跳跃高度
modify:
{
	match:
	{
		"classname" "logic_compare"
		"targetname" "Zombie_Item_Predator_Jump"
	}
	delete:
	{
		"OnLessThan" "!activatorAddOutputbasevelocity 0 0 5000-1"
	}
	insert:
	{
		"OnLessThan" "!activatorRunScriptCode{local vel=self.GetVelocity();self.SetVelocity(Vector(vel.x,vel.y,vel.z+700))}0-1"
	}
}

//修复神器按钮，无法正确旋转的问题
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "/Weapon_(Thundergun_Game|((M(utator|60|ine)|Tur(ret|bo_Device))|Inmunizer|PortalGun|Gauss|ZeroGravity|Extra_(Inmunizer|Unlimmited))_)UI/"
		"spawnflags" "19457"
	}
	replace:
	{
		"spawnflags" "3073"
	}
}
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "Weapon_Turret_Deployed_Button"
		"spawnflags" "17409"
	}
	replace:
	{
		"spawnflags" "1025"
	}
}

//修复铁血自爆问题
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "Zombie_Item_Predator_Health"
	}
	delete:
	{
		"OnBreak" "Zombie_Item_Predator_Suicide_2Compare0.01-1"
		"OnBreak" "zombie_predatorFireUser40.01-1"
	}
	insert:
	{
		"OnBreak" "Zombie_Item_Predator_Suicide_2Compare0.05-1"
		"OnBreak" "zombie_predatorFireUser40.05-1"
	}
}

//修正热身文本
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Stage_Warmup_Random_Messages_Case"
	}
	delete:
	{
		"OnCase01" "Global_GameText_Stage_StartRunScriptCodesetMessage(35)0-1"
		"OnCase02" "Global_GameText_Stage_StartRunScriptCodesetMessage(36)0-1"
		"OnCase03" "Global_GameText_Stage_StartRunScriptCodesetMessage(37)00"
		"OnCase04" "Global_GameText_Stage_StartRunScriptCodesetMessage(38)0-1"
		"OnCase05" "Global_GameText_Stage_StartRunScriptCodesetMessage(39)0-1"
		"OnCase06" "Global_GameText_Stage_StartRunScriptCodesetMessage(40)0-1"
		"OnCase07" "Global_GameText_Stage_StartRunScriptCodesetMessage(41)0-1"
		"OnCase08" "Global_GameText_Stage_StartRunScriptCodesetMessage(42)0-1"
		"OnCase09" "Global_GameText_Stage_StartRunScriptCodesetMessage(43)0-1"
		"OnCase10" "Global_GameText_Stage_StartRunScriptCodesetMessage(44)0-1"
		"OnCase11" "Global_GameText_Stage_StartRunScriptCodesetMessage(45)0-1"
		"OnCase12" "Global_GameText_Stage_StartRunScriptCodesetMessage(46)0-1"
		"OnCase13" "Global_GameText_Stage_StartRunScriptCodesetMessage(47)0-1"
		"OnCase14" "Global_GameText_Stage_StartRunScriptCodesetMessage(48)0-1"
		"OnCase15" "Global_GameText_Stage_StartRunScriptCodesetMessage(49)0-1"
	}
	insert:
	{
		"OnCase01" "Global_GameText_Stage_StartRunScriptCodesetMessage(34);1"
		"OnCase02" "Global_GameText_Stage_StartRunScriptCodesetMessage(35);1"
		"OnCase03" "Global_GameText_Stage_StartRunScriptCodesetMessage(36);1"
		"OnCase04" "Global_GameText_Stage_StartRunScriptCodesetMessage(37);1"
		"OnCase05" "Global_GameText_Stage_StartRunScriptCodesetMessage(38);1"
		"OnCase06" "Global_GameText_Stage_StartRunScriptCodesetMessage(39);1"
		"OnCase07" "Global_GameText_Stage_StartRunScriptCodesetMessage(40);1"
		"OnCase08" "Global_GameText_Stage_StartRunScriptCodesetMessage(41);1"
		"OnCase09" "Global_GameText_Stage_StartRunScriptCodesetMessage(42);1"
		"OnCase10" "Global_GameText_Stage_StartRunScriptCodesetMessage(43);1"
		"OnCase11" "Global_GameText_Stage_StartRunScriptCodesetMessage(44);1"
		"OnCase12" "Global_GameText_Stage_StartRunScriptCodesetMessage(45);1"
		"OnCase13" "Global_GameText_Stage_StartRunScriptCodesetMessage(46);1"
		"OnCase14" "Global_GameText_Stage_StartRunScriptCodesetMessage(47);1"
		"OnCase15" "Global_GameText_Stage_StartRunScriptCodesetMessage(48);1"
	}
}

//修复弹药
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "Item_Ammo_Box_Spawn_Trigger"
	}
	delete:
	{
		"OnTrigger" "Global_Weapon_AmmoUse0-1"
		"OnTrigger" "Item_Ammo_Box_Spawn_ModelSetAnimationOpen0-1"
		"OnTrigger" "Item_Ammo_Box_Spawn_ModelSetAnimationClose1.13-1"
	}
	insert:
	{
		"OnUser1" "!selfFireUser10.6-1"
		"OnUser1" "!selfDisable0.5-1"
		"OnUser1" "!selfEnable0-1"
		"OnStartTouch" "!selfFireUser101"
		"OnStartTouch" "Global_Weapon_AmmoUse0-1"
	}
}

//删除缺少的动画输入
modify:
{
	match:
	{
		"classname" "func_tanktrain"
		"targetname" "Vehicle_Fake_Helicopter_TrackTrain"
	}
	delete:
	{
		"OnUser1" "Vehicle_Fake_Helicopter_ModelSetAnimationstart_fast_fly0-1"
		"OnUser1" "Vehicle_Fake_Helicopter_ModelSetDefaultAnimationfast_fly0-1"
	}
}

//重置BOSS血量机制，改为1人类60血
add:
{
	"classname" "logic_script"
	"targetname" "boss_script"
	"vscripts" "ze_last_man_standing_p2/bosshp.nut"
}
modify:
{
	match:
	{
		"classname" "path_track"
		"targetname" "stage_x_boss_track_7"
	}
	insert:
	{
		"OnPass" "boss_scriptRunScriptCodeStartBoss()0-1"
	}
}
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "Zombie_Item_Boss_Super_Health"
	}
	insert:
	{
		"OnHealthChanged" "boss_scriptRunScriptCodeTakeDamage()0-1"
	}
}
modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "boss_hp"
	}
	delete:
	{
		"startvalue" "1000"
		"max" "1000"
		"OutValue" "boss_hp_caseInValue0-1"
	}
	insert:
	{
		"startvalue" "10000"
		"max" "10000"
		"OnHitMin" "BossSpriteHPHideSprite0-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "boss_hp_case"
	}
	replace:
	{
		"Case01" "1"
		"Case02" "2"
		"Case03" "3"
		"Case04" "4"
		"Case05" "5"
		"Case06" "6"
		"Case07" "7"
		"Case08" "8"
		"Case09" "9"
		"Case10" "10"
		"Case11" "11"
		"Case12" "12"
		"Case13" "13"
		"Case14" "14"
		"Case15" "15"
		"Case16" "16"
	}
	delete:
	{
		"OnCase01" "BossHPToggleSetTextureIndex20-1"
		"OnCase02" "BossHPToggleSetTextureIndex50-1"
		"OnCase03" "BossHPToggleSetTextureIndex70-1"
		"OnCase04" "BossHPToggleSetTextureIndex100-1"
		"OnCase05" "BossHPToggleSetTextureIndex120-1"
		"OnCase06" "BossHPToggleSetTextureIndex150-1"
		"OnCase07" "BossHPToggleSetTextureIndex170-1"
		"OnCase08" "BossHPToggleSetTextureIndex200-1"
		"OnCase09" "BossHPToggleSetTextureIndex220-1"
		"OnCase10" "BossHPToggleSetTextureIndex250-1"
		"OnCase11" "BossHPToggleSetTextureIndex270-1"
		"OnCase12" "BossHPToggleSetTextureIndex300-1"
		"OnCase13" "BossHPToggleSetTextureIndex320-1"
		"OnCase14" "BossHPToggleSetTextureIndex350-1"
		"OnCase15" "BossHPToggleSetTextureIndex370-1"
		"OnCase16" "BossSpriteHPHideSprite0-1"
	}
	insert:
	{
		"OnCase01" "BossHPToggleSetTextureIndex390-1"
		"OnCase02" "BossHPToggleSetTextureIndex370-1"
		"OnCase03" "BossHPToggleSetTextureIndex350-1"
		"OnCase04" "BossHPToggleSetTextureIndex320-1"
		"OnCase05" "BossHPToggleSetTextureIndex300-1"
		"OnCase06" "BossHPToggleSetTextureIndex270-1"
		"OnCase07" "BossHPToggleSetTextureIndex250-1"
		"OnCase08" "BossHPToggleSetTextureIndex220-1"
		"OnCase09" "BossHPToggleSetTextureIndex200-1"
		"OnCase10" "BossHPToggleSetTextureIndex170-1"
		"OnCase11" "BossHPToggleSetTextureIndex150-1"
		"OnCase12" "BossHPToggleSetTextureIndex120-1"
		"OnCase13" "BossHPToggleSetTextureIndex100-1"
		"OnCase14" "BossHPToggleSetTextureIndex70-1"
		"OnCase15" "BossHPToggleSetTextureIndex50-1"
		"OnCase16" "BossHPToggleSetTextureIndex20-1"
	}
}

//移除白车
filter:
{
	"targetname" "/^Vehicle_Car1_.*/"
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Stage_Start_Stage_1"
	}
	delete:
	{
		"Ontrigger" "Template_Vehicle_Car1ForceSpawn2-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Stage_Start_Stage_4"
	}
	delete:
	{
		"OnTrigger" "Template_Vehicle_Car1ForceSpawn2-1"
	}
}
filter:
{
	"classname" "point_teleport"
	"target" "Vehicle_Car1_Body"
}

//防止女鬼死亡抬
modify:
{
	match:
	{
		"targetname" "Zombie_Item_Alma_Body_Health"
		"classname" "func_physbox_multiplayer"
	}
	insert:
	{
		"OnBreak" "Zombie_Item_Alma_Attack_Hurt_RelayCancelPending0-1"
	}
}

//防止女鬼传送抬
add:
{
	"classname" "filter_activator_name"
	"filtername" "zombie_alma"
	"targetname" "Zombie_Item_Alma_Filter"
	"Negated" "0"
}
add:
{
	"classname" "trigger_multiple"
	"targetname" "Zombie_Item_Alma_Checker"
	"spawnflags" "1"
	"origin" "-1708 11334 -8240"
	"model" "*165"
	"wait" "0"
	"filtername" "Zombie_Item_Alma_Filter"
	"OnEndTouch" "Zombie_Item_Alma_Attack_RelayFireUser10-1"
	"OnEndTouch" "Zombie_Item_Alma_Attack_RelayCancelPending0-1"
	"OnEndTouch" "Zombie_Item_Alma_Attack_Hurt_RelayCancelPending0-1"
	"OnEndTouch" "!selfKill0.1-1"
}
modify:
{
	match:
	{
		"classname" "point_template"
		"targetname" "Zombie_Item_Alma_Attack_Template"
	}
	insert:
	{
		"Template01" "Zombie_Item_Alma_Checker"
	}
}
modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "Zombie_Item_Alma_Block_Attack"
	}
	insert:
	{
		"OnHitMin" "Zombie_Item_Alma_CheckerKill0-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Zombie_Item_Alma_Attack_Relay"
	}
	insert:
	{
		"OnUser1" "Zombie_Item_Alma_CheckerKill5.1-1"
	}
}

//禁止ex2水下僵尸神器
add:
{
	"classname" "filter_activator_name"
	"filtername" "zombie_shocker"
	"targetname" "Zombie_Item_Shockwave_Filter"
	"Negated" "0"
}
add:
{
	"classname" "trigger_multiple"
	"targetname" "Stage_2_Disable_Shockwave"
	"spawnflags" "1"
	"origin" "4608 -7232 -8864"
	"model" "*726"
	"wait" "0"
	"filtername" "Zombie_Item_Shockwave_Filter"
	"OnStartTouch" "Zombie_Item_Shockwave_UIDeactivate0-1"
	"OnStartTouch" "Zombie_Item_Shockwave_RelayDisable0-1"
	"OnEndTouch" "Zombie_Item_Shockwave_UIActivate0-1"
	"OnEndTouch" "Zombie_Item_Shockwave_RelayEnable0-1"
}
add:
{
	"classname" "trigger_multiple"
	"targetname" "Stage_2_Disable_Shockwave"
	"spawnflags" "1"
	"origin" "4452 -226 -8928"
	"model" "*612"
	"wait" "0"
	"filtername" "Zombie_Item_Shockwave_Filter"
	"OnStartTouch" "Zombie_Item_Shockwave_UIDeactivate0-1"
	"OnStartTouch" "Zombie_Item_Shockwave_RelayDisable0-1"
	"OnEndTouch" "Zombie_Item_Shockwave_UIActivate0-1"
	"OnEndTouch" "Zombie_Item_Shockwave_RelayEnable0-1"
}

//关机摄像机视角
add:
{
	"classname" "game_round_end"
	"targetname" "Round_End"
	"OnRoundEnded" "point_viewcontrolDisable0-1"
}

//刪掉錯誤的output
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "stage_3_button"
	}
	delete:
	{
		"OnPressed" "stage_target_helperAddOutput0 0 001"
	}
}

//修復第5關僵尸碰核心之後傳送大飛
modify:
{
	match:
	{
		"classname" "trigger_teleport"
		"targetname" "stage_5_core_hit_push"
	}
	insert:
	{
		"OnStartTouch" "!activatorRunScriptCodeself.SetVelocity(Vector(0,0,0));0-1"
	}
}

//重置第5關藍結局僵尸空降速度
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "stage_5_last_man_trigger_core_end"
	}
	insert:
	{
		"OnStartTouch" "!activatorRunScriptCodeself.SetVelocity(Vector(self.GetVelocity().x,self.GetVelocity().y,0));0-1"
		"OnStartTouch" "Global_SpeedModifySpeed0.990-1"
	}
}

//優化A哥跟機甲卡卡的視角
filter:
{
	"classname" "logic_measure_movement"
	"targetname" "Zombie_Item_Boss_Measure"
}
filter:
{
	"classname" "info_teleport_destination"
	"targetname" "Zombie_Item_Boss_Cam_Pos_2"
}
filter:
{
	"classname" "logic_measure_movement"
	"targetname" "Human_Item_Mech_Measure"
}
filter:
{
	"classname" "info_teleport_destination"
	"targetname" "Human_Item_Mech_Cam_Pos_2"
}
modify:
{
	match:
	{
		"classname" "point_viewcontrol"
		"targetname" "Zombie_Item_Boss_Cam"
	}
	insert:
	{
		"parentname" "Zombie_Item_Boss_Cam_Pos"
	}
}
modify:
{
	match:
	{
		"classname" "point_viewcontrol"
		"targetname" "Human_Item_Mech_Cam"
	}
	insert:
	{
		"parentname" "Human_Item_Mech_Knife"
	}
}
add:
{
	"classname" "point_template"
	"targetname" "map1viewcontroltemplate1"
	"Template01" "Zombie_Item_Boss_Cam"
	"Template02" "Human_Item_Mech_Cam"
}
modify:
{
	match:
	{
		"classname" "info_target"
		"targetname" "worldspawn_brush_target"
	}
	insert:
	{
		"OnUser2" "map1viewcontrolpreservedtemplate1,AddOutput,classname info_ladder,,1"
		"OnUser2" "map1viewcontroltemplate1,AddOutput,targetname map1viewcontrolpreservedtemplate1,,1"
	}
}

//回合開始自動調整
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Auto"
	}
	replace:
	{
		"spawnflags" "1"
	}
	insert:
	{
		"OnSpawn" "map1viewcontrolpreservedtemplate1,ForceSpawn,,.01,1"
		"OnSpawn" "map1viewcontroltemplate1,Kill,,.01,1"
		"OnSpawn" "worldspawn_brush_target,FireUser2,,,1"
		"OnSpawn" "player,AddOutput,targetname ,,1"
		"OnSpawn" "playerRunScriptCodeif (self.GetName() == _.zombie_boss || self.GetName() == _.human_mech) EntFireByHandle(caller, _.FireUser1, __, 0, self, null);1"
		"OnSpawn" "!selfRunScriptCode::_ <- delegate { function _get(strKey) { return strKey; } } : {};1"
		"OnSpawn" "!selfRunScriptCode::__ <- ' '.tochar();1"
		"OnUser1" "Map_End_Camera,RemovePlayer,,,1"
		"OnUser1" "Map_End_Camera,AddPlayer,,,1"
	}
}

//改掉死掉玩家的targetname，修復A哥跟機甲的視角，修復predator跟alma的game_ui死掉之後沒被取消
add:
{
	"classname" "filter_activator_name"
	"targetname" "zombie_predator_death_check"
	"filtername" "zombie_predator"
	"Negated" "0"
	"OnPass" "Zombie_Item_Predator_UIKill0-1"
	"OnPass" "Zombie_Item_Predator_HealthBreak0.05-1"
}
add:
{
	"classname" "filter_activator_name"
	"targetname" "zombie_alma_death_check"
	"filtername" "zombie_alma"
	"Negated" "0"
	"OnPass" "Zombie_Item_Alma_UIKill0-1"
	"OnPass" "Zombie_Item_Alma_Body_HealthBreak0.05-1"
}
modify:
{
	match:
	{
		"classname" "trigger_brush"
		"targetname" "game_playerdie"
	}
	delete:
	{
		"OnUse" "!activatorAddOutputtargetname none0-1"
	}
	insert:
	{
		"OnUse" "zombie_alma_death_checkTestActivator0-1"
		"OnUse" "zombie_predator_death_checkTestActivator0-1"
		"OnUse" "!activator,AddOutput,targetname -1"
		"OnUse" "!activatorRunScriptCodeif (self.GetName() == _.zombie_boss || self.GetName() == _.human_mech) EntFireByHandle(caller, _.FireUser1, __, 0, self, null);-1"
		"OnUser1" "Map_End_Camera,RemovePlayer,,,1"
		"OnUser1" "Map_End_Camera,AddPlayer,,,1"
	}
}

//第一關機械狗只能人類觸發
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Auto"
	}
	insert:
	{
		"OnSpawn" "stage_x_crane_breakableRunScriptCodefunction InputUse(){return activator.GetTeam()==3;}1"
		"OnSpawn" "stage_x_crane_crateRunScriptCodefunction InputUse(){return activator.GetTeam()==3;}1"
	}
}
